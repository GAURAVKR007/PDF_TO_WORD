(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1483:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1484:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1485:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1486:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1487:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1515:function(t,e,n){"use strict";n.r(e);n(18),n(10),n(12),n(6),n(11),n(7),n(8),n(9),n(15),n(14),n(19),n(17),n(52),n(22),n(66),n(67),n(68),n(69),n(39),n(42),n(23),n(24),n(43),n(65);var r=n(0),a=n.n(r),o=n(16),i=n.n(o),c=n(5),u=n(394),l=n(1422),s=n(121),f=n(124),p=n(4),d=n.n(p),h=n(174),v=n(131),m=n(186),y=n(103),g=n(129),b=n(1);n(1483);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,a){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new A(a||[]);return r(i,"_invoke",{value:S(t,n,c)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==e&&n.call(y,o)&&(v=y);var g=h.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var a;r(this,"_invoke",{value:function(r,o){function i(){return new e((function(a,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==E(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function S(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(x.prototype),u(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new x(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=j(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function S(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){S(o,r,a,i,c,"next",t)}function c(t){S(o,r,a,i,c,"throw",t)}i(void 0)}))}}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||j(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I={isModalOpen:d.a.bool,isTabPanelSelected:d.a.bool,disableCreateButton:d.a.func,enableCreateButton:d.a.func,isInitialsModeEnabled:d.a.bool},N=function(t){var e,n=t.isModalOpen,o=t.isTabPanelSelected,i=t.disableCreateButton,c=t.enableCreateButton,l=t.isInitialsModeEnabled,s=void 0!==l&&l,p=Object(r.useRef)(),d=Object(r.useRef)(),E=Object(r.useRef)(),S=Object(r.useRef)(),j=L(Object(u.a)(),1)[0],A=L(Object(r.useState)({}),2),I=A[0],N=A[1],k=L(Object(r.useState)(!1),2),C=k[0],T=k[1],_=L(Object(r.useState)(!1),2),D=_[0],M=_[1],P=(e=L(Object(r.useState)(!1),2)[1],function(){return e((function(t){return!t}))});Object(r.useEffect)((function(){var t=b.a.getTool("AnnotationCreateSignature"),e=p.current;t.setSignatureCanvas(e);var n=window.Core.getCanvasMultiplier();e.getContext("2d").scale(n,n);var r=d.current;t.setInitialsCanvas(r),r.getContext("2d").scale(n,n)}),[]),Object(r.useEffect)((function(){n&&(F(),R())}),[n]),Object(r.useEffect)((function(){function t(){return(t=O(w().mark((function t(){var e,r,a,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!o){t.next=21;break}e=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),r=x(e),t.prev=3,r.s();case 5:if((a=r.n()).done){t.next=13;break}return(i=a.value).setSignature(E.current),i.setInitials(S.current),t.next=11,i.resizeCanvas(g.a.FULL_SIGNATURE);case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[3,15,18,21]])})))).apply(this,arguments)}function e(){return(e=O(w().mark((function t(){var e,r,a,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n&&o&&s)){t.next=20;break}e=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),r=x(e),t.prev=3,r.s();case 5:if((a=r.n()).done){t.next=12;break}return(i=a.value).setInitials(S.current),t.next=10,i.resizeCanvas(g.a.INITIALS);case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),r.e(t.t0);case 17:return t.prev=17,r.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[3,14,17,20]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){e.apply(this,arguments)}(),s?E.current&&S.current?c():i():E.current?c():i()}),[o,n,s]),Object(r.useEffect)((function(){function t(){return(t=O(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!I.height||!I.width){t.next=7;break}return e=b.a.getTool("AnnotationCreateSignature"),t.next=4,e.resizeCanvas();case 4:if(!s){t.next=7;break}return t.next=7,e.resizeCanvas(g.a.INITIALS);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[I,s]),Object(r.useEffect)((function(){!C||s&&!D?i():c()}),[D,C,s]);var F=Object(r.useCallback)((function(){b.a.getTool("AnnotationCreateSignature").clearSignatureCanvas(),E.current=null,T(!1)}),[]),R=Object(r.useCallback)((function(){b.a.getTool("AnnotationCreateSignature").clearInitialsCanvas(),S.current=null,M(!1)}),[]),G=function(){var t=O(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=b.a.getTool("AnnotationCreateSignature"),t.next=3,e.isEmptySignature();case 3:if(t.sent){t.next=6;break}E.current=B(e.getFullSignatureAnnotation().getPaths()),T(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=O(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=b.a.getTool("AnnotationCreateSignature"),e.getInitialsAnnotation()&&(S.current=B(e.getInitialsAnnotation().getPaths()),M(!0));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e[n]||(e[n]=[]),e[n][r]=new window.Core.Math.Point(t[n][r].x,t[n][r].y);return e},H=b.a.getTool("AnnotationCreateSignature").defaults,z=s?{}:{display:"none"};return a.a.createElement(f.a,{bounds:!0,onResize:function(t){var e=t.bounds;return N(e)}},(function(t){var e=t.measureRef;return a.a.createElement("div",{className:"ink-signature",ref:e},a.a.createElement(v.a,{onSwiping:function(t){return t.event.stopPropagation()},className:"canvas-colorpalette-container"},a.a.createElement("div",{className:"signature-and-initials-container"},a.a.createElement("div",{className:"signature-input full-signature"},a.a.createElement("canvas",{className:"ink-signature-canvas",onMouseUp:G,onTouchEnd:G,onMouseLeave:G,ref:p}),a.a.createElement("div",{className:"signature-input-footer"},a.a.createElement("div",{className:"signature-prompt"},j("option.signatureModal.drawSignature")),a.a.createElement("button",{className:"footer-signature-clear",onClick:F,disabled:!C},j("action.clear")))),a.a.createElement("div",{className:"signature-input initials",style:z},a.a.createElement("canvas",{className:"ink-signature-canvas",onMouseUp:U,onTouchEnd:U,onMouseLeave:U,ref:d}),a.a.createElement("div",{className:"signature-input-footer"},a.a.createElement("div",{className:"signature-prompt"},j("option.signatureModal.drawInitial")),a.a.createElement("button",{className:"footer-signature-clear",onClick:R,disabled:!D},j("action.clear"))))),a.a.createElement("div",{className:"colorpalette-clear-container"},a.a.createElement("div",{className:"signature-style-options"},a.a.createElement(y.a,{disabled:!0,placeholder:"Text Styles"}),a.a.createElement("div",{className:"placeholder-dropdown"}),a.a.createElement("div",{className:"divider"}),a.a.createElement(m.a,{color:H.StrokeColor,property:"StrokeColor",onStyleChange:function(t,e){return function(t,e){Object(h.a)("AnnotationCreateSignature",t,e);var n=b.a.getTool("AnnotationCreateSignature");n.getFullSignatureAnnotation()&&(n.getFullSignatureAnnotation().StrokeColor=e,n.resizeCanvas(g.a.FULL_SIGNATURE)),n.getInitialsAnnotation()&&(n.getInitialsAnnotation().StrokeColor=e,n.resizeCanvas(g.a.INITIALS)),P()}(t,e)},overridePalette2:["#000000","#4E7DE9","#E44234"]})))))}))};N.propTypes=I;var k=N,C=(n(84),n(36),n(35),n(54),n(57),n(122),n(119),n(26));n(132);var T=function(t){var e,n,r,a=t.getContext("2d"),o=t.width,i=t.height,c={x:[],y:[]},u=a.getImageData(0,0,t.width,t.height);for(n=0;n<i;n++)for(e=0;e<o;e++)r=4*(n*o+e),u.data[r+3]>0&&(c.x.push(e),c.y.push(n));c.x.sort((function(t,e){return t-e})),c.y.sort((function(t,e){return t-e}));var l=c.x.length-1;o=1+c.x[l]-c.x[0],i=1+c.y[l]-c.y[0];var s=a.getImageData(c.x[0],c.y[0],o,i);return t.width=o,t.height=i,a.putImageData(s,0,0),t.toDataURL()},_=n(3),D=(n(1484),n(40));function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F={isModalOpen:d.a.bool,isTabPanelSelected:d.a.bool,disableCreateButton:d.a.func,enableCreateButton:d.a.func,isInitialsModeEnabled:d.a.bool},R=window.Core.getCanvasMultiplier(),G=function(t){return null==t?void 0:t.split(" ").map((function(t){return t[0]})).join("").toUpperCase()},U=function(t,e,n){var r="".concat(e,"px ").concat(n),a=document.createElement("span");a.id="textSpan",a.style.display="inline-block",a.style.visibility="hidden",a.style.font=r,Object(D.a)().getElementsByTagName("body")[0].appendChild(a),a.textContent=t;var o=a.getBoundingClientRect().width;return a.remove(),o},B=function(t,e){for(var n,r=0,a=48;r<=a;){n=Math.floor((r+a)/2),U(t,n,e)>350?a=n-1:r=n+1}return n},H=function(t,e){var n=e.current.getBoundingClientRect(),r=n.width,a=n.height;r+=100,a+=100,t.style.width="".concat(r,"px"),t.style.height="".concat(a,"px"),t.width=r*R,t.height=a*R},z=function(t){var e=t.canvas,n=t.text,r=t.selectedFontFamily,a=t.fontColor,o=e.getContext("2d"),i=B(n,r);o.fillStyle=a,o.textAlign="center",o.textBaseline="middle",o.font="".concat(i*R,"px ").concat(r)},W=function(t,e){var n=t.getContext("2d"),r=t.width,a=t.height;n.clearRect(0,0,r,a),n.fillText(e,r/2,a/2)},V=function(t){var e,n=t.isModalOpen,o=t.isTabPanelSelected,l=t.disableCreateButton,s=t.enableCreateButton,f=t.isInitialsModeEnabled,p=void 0!==f&&f,d=Object(c.e)((function(t){return _.a.getSignatureFonts(t)})),h=M(Object(r.useState)(""),2),v=h[0],g=h[1],E=M(Object(r.useState)(""),2),w=E[0],x=E[1],S=M(Object(r.useState)(!0),2),O=S[0],L=S[1],j=M(Object(r.useState)(new window.Core.Annotations.Color("#000000")),2),A=j[0],I=j[1],N=M(Object(r.useState)(48),2),k=N[0],D=N[1],P=Object(r.useRef)(),F=Object(r.useRef)(),R=Object(r.useRef)(),U=Object(r.useRef)(),V=Object(r.useRef)(),Y=M(Object(u.a)(),1)[0],$=M(Object(r.useState)(d[0]),2),K=$[0],J=$[1],Z=(e=M(Object(r.useState)(!1),2)[1],function(){return e((function(t){return!t}))});Object(r.useEffect)((function(){d.includes(K)||J(d[0])}),[K,d]),Object(r.useEffect)((function(){var t=R.current;o&&(H(t,V),z({canvas:t,text:w,selectedFontFamily:K,fontColor:A}),W(t,w),n&&Q())}),[o,w,d,A,K]),Object(r.useEffect)((function(){var t=F.current;o&&(H(t,U),z({canvas:t,text:v,selectedFontFamily:K,fontColor:A}),W(t,v),n&&q())}),[o,v,d,A,K]),Object(r.useEffect)((function(){if(I(A),n&&o){var t=b.a.getDisplayAuthor(b.a.getCurrentUser());g(t),x(G(t)),q()}}),[n,o]),Object(r.useEffect)((function(){var t;o&&(null===(t=P.current)||void 0===t||t.focus(),C.i?P.current.setSelectionRange(0,9999):P.current.select())}),[o]),Object(r.useEffect)((function(){var t=function(){if(O){var t=b.a.getDisplayAuthor(b.a.getCurrentUser());g(t),x(G(t)),s()}};return b.a.addEventListener("updateAnnotationPermission",t),function(){b.a.removeEventListener("updateAnnotationPermission",t)}}),[O]);var q=function(){var t=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),e=F.current;if((v||"").trim()){var n=T(e);t.forEach((function(t){return t.setSignature(n)})),s()}else t.forEach((function(t){return t.setSignature(null)})),l()},Q=function(){var t=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),e=R.current;if((w||"").trim()){var n=T(e);t.forEach((function(t){return t.setInitials(n)})),s()}else t.forEach((function(t){return t.setInitials(null)})),l()},X=!(n&&o),tt=p?{}:{display:"none"};return a.a.createElement("div",{className:"text-signature"},a.a.createElement("div",{className:"signature-and-initials-container"},a.a.createElement("div",{className:"signature-input full-signature"},a.a.createElement("label",null,a.a.createElement("input",{className:"text-signature-input",ref:P,type:"text",value:v,onChange:function(t){L(!1);var e=t.target.value.replace(/^\s+/g,"");q(),g(e),x(G(e));var n=B(e,K);D(n)},style:{fontFamily:K||d,fontSize:k,color:A.toHexString()},disabled:X})),a.a.createElement("div",{className:"signature-input-footer"},a.a.createElement("div",{className:"signature-prompt"},Y("option.signatureModal.typeSignature")),a.a.createElement("button",{className:"footer-signature-clear",onClick:function(){g(""),P.current.focus()},disabled:X||0===v.length},Y("action.clear")))),a.a.createElement("div",{className:"signature-input initials",style:tt},a.a.createElement("label",null,a.a.createElement("input",{className:"text-signature-input",type:"text",value:w,onChange:function(t){L(!1);var e=t.target.value.replace(/^\s+/g,"");q(),x(e)},style:{fontFamily:K||d,fontSize:k,color:A.toHexString()},disabled:X})),a.a.createElement("div",{className:"signature-input-footer"},a.a.createElement("div",{className:"signature-prompt"},Y("option.signatureModal.typeInitial")),a.a.createElement("button",{className:"footer-signature-clear",onClick:function(){return x("")},disabled:X||0===w.length},Y("action.clear"))))),a.a.createElement("div",{className:i()({"text-signature-text":!0}),style:{fontFamily:K,fontSize:72,color:A.toHexString()}},a.a.createElement("div",{className:"text-container",ref:U},v),a.a.createElement("div",{className:"text-container",ref:V},w)),a.a.createElement("canvas",{ref:F}),a.a.createElement("canvas",{ref:R}),a.a.createElement("div",{className:"colorpalette-clear-container"},a.a.createElement("div",{className:"signature-style-options"},a.a.createElement(y.a,{items:d.map((function(t){return{font:t,value:"".concat(v," ").concat(p?w:"")}})),getCustomItemStyle:function(t){return{fontFamily:t.font}},getKey:function(t){return t.font},getDisplayValue:function(t){return t.value||t.font},onClickItem:function(t){J(t);var e=B(v,t);D(e)},currentSelectionKey:K||d[0],maxHeight:Object(C.k)()?80:null,dataElement:"text-signature-font-dropdown"}),a.a.createElement("div",{className:"placeholder-dropdown"}),a.a.createElement("div",{className:"divider"}),a.a.createElement(m.a,{color:A,property:"fontColor",onStyleChange:function(t,e){return function(t,e){I(e),Z()}(0,e)},overridePalette2:["#000000","#4E7DE9","#E44234"]}))))};V.propTypes=F;var Y=V,$=(n(109),n(75),n(38));n(1485);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */J=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,a){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:w(t,n,c)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&n.call(y,o)&&(v=y);var g=h.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var a;r(this,"_invoke",{value:function(r,o){function i(){return new e((function(a,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==K(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Z(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function q(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){Z(o,r,a,i,c,"next",t)}function c(t){Z(o,r,a,i,c,"throw",t)}i(void 0)}))}}function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt={isModalOpen:d.a.bool,isTabPanelSelected:d.a.bool,disableCreateButton:d.a.func,enableCreateButton:d.a.func,isInitialsModeEnabled:d.a.bool},et="fullSignature",nt="initials",rt=["png","jpg","jpeg"],at=null;function ot(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=r.target.result;rt.some((function(t){return-1!==a.indexOf("image/".concat(t))}))?e({imageSource:a,fileSize:t.size}):n($.a.t("message.imageSignatureAcceptedFileTypes",{acceptedFileTypes:rt.join(", ")}))},r.readAsDataURL(t)}))}var it=function(t){var e=t.isModalOpen,n=t.isTabPanelSelected,o=t.disableCreateButton,c=t.enableCreateButton,l=t.isInitialsModeEnabled,s=void 0!==l&&l,f=Q(Object(r.useState)(null),2),p=f[0],d=f[1],h=Q(Object(r.useState)(null),2),v=h[0],m=h[1],y=Q(Object(r.useState)(null),2),g=y[0],E=y[1],w=Q(Object(r.useState)(null),2),x=w[0],S=w[1],O=Q(Object(r.useState)(""),2),L=O[0],j=O[1],A=Q(Object(r.useState)(null),2),I=A[0],N=A[1],k=Q(Object(r.useState)(null),2),T=k[0],_=k[1],D=Object(r.useRef)(),M=Object(r.useRef)(),P=Q(Object(u.a)(),1)[0];Object(r.useEffect)((function(){var t=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature");at=t[0].ACCEPTED_FILE_SIZE,e?e&&n&&(t.forEach((function(t){return t.setSignature(p,v)})),t.forEach((function(t){return t.setInitials(g,x)})),!p||s&&!g?o():c()):(d(null),E(null),S(null),S(null))}),[p,g,n,e,x,v,s]);var F=function(t){W(t.target.files[0])},R=function(t){Y(t.target.files[0])},G=Object(r.useCallback)((function(t,e){t.preventDefault(),j(e)}),[]),U=Object(r.useCallback)((function(t){t.preventDefault()}),[]),B=Object(r.useCallback)((function(t){t.preventDefault(),t.target.parentNode.contains(t.relatedTarget)||j(null)}),[]),H=Object(r.useCallback)((function(t){t.preventDefault(),j(null)}),[]),z=function(t){t.preventDefault(),j(null);var e=t.dataTransfer.files;e.length&&W(e[0])},W=function(){var t=q(J().mark((function t(e){var n,r,a;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ot(e);case 3:n=t.sent,r=n.imageSource,a=n.fileSize,N(""),d(r),m(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),N(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),V=function(t){t.preventDefault(),j(null);var e=t.dataTransfer.files;e.length&&Y(e[0])},Y=function(){var t=q(J().mark((function t(e){var n,r,a;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ot(e);case 3:n=t.sent,r=n.imageSource,a=n.fileSize,_(""),E(r),S(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),_(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),$=Object(r.useCallback)((function(t){G(t,et)}),[G]),K=Object(r.useCallback)((function(t){B(t,et)}),[B]),Z=Object(r.useCallback)((function(t){G(t,nt)}),[G]),X=Object(r.useCallback)((function(t){B(t,nt)}),[B]),tt=function(){return Object(C.k)()?a.a.createElement("div",{className:"image-signature-separator"},P("option.signatureModal.selectImage")):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"image-signature-dnd"},P("option.signatureModal.dragAndDrop")),a.a.createElement("div",{className:"image-signature-separator"},P("option.signatureModal.or")))},it="number"==typeof at&&at>0,ct=!it||v<at,ut=!it||x<at,lt=i()("image-signature-upload-container",{mobile:Object(C.k)(),dragging:L===et}),st=i()("image-signature-upload-container",{mobile:Object(C.k)(),dragging:L===nt}),ft=s?{}:{display:"none"};return a.a.createElement("div",{className:"image-signature"},a.a.createElement("div",{className:"signature-and-initials-container"},a.a.createElement("div",{className:"signature-input image full-signature"},p&&ct?a.a.createElement("img",{src:p,style:{maxWidth:"100%",maxHeight:"100%"}}):a.a.createElement("div",{className:lt,onDragEnter:$,onDragLeave:K,onDragOver:U,onDrop:z,onDragExit:H},tt(),a.a.createElement("div",{className:"image-signature-upload"},a.a.createElement("input",{ref:D,id:"upload",type:"file",accept:rt.map((function(t){return".".concat(t)})).join(","),onChange:F,disabled:!(e&&n)}),a.a.createElement("div",{onClick:function(){return D.current.click()},className:"pick-image-button"},P("option.signatureModal.pickImage"))),I&&a.a.createElement("div",{className:"image-signature-error"},I))),a.a.createElement("div",{className:"signature-input image initials",style:ft},g&&ut?a.a.createElement("img",{src:g,style:{maxWidth:"100%",maxHeight:"100%"}}):a.a.createElement("div",{className:st,onDragEnter:Z,onDragLeave:X,onDragOver:U,onDrop:V,onDragExit:H},tt(),a.a.createElement("div",{className:"image-signature-upload"},a.a.createElement("input",{ref:M,id:"upload",type:"file",accept:rt.map((function(t){return".".concat(t)})).join(","),onChange:R,disabled:!(e&&n)}),a.a.createElement("div",{onClick:function(){return M.current.click()},className:"pick-image-button"},P("option.signatureModal.pickInitialsFile"))),T&&a.a.createElement("div",{className:"image-signature-error"},T)))))};it.propTypes=tt;var ct=it,ut=n(20),lt=n(2),st=(n(1486),n(73)),ft=n(25);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,a){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:w(t,n,c)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&n.call(y,o)&&(v=y);var g=h.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var a;r(this,"_invoke",{value:function(r,o){function i(){return new e((function(a,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==pt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=yt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function vt(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||yt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(t,e){if(t){if("string"==typeof t)return gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(t,e):void 0}}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bt=function(t){var e=t.selectedIndex,n=t.setSelectedIndex,r=Object(c.d)(),o=Object(u.a)().t,l=mt(Object(c.e)((function(t){return[_.a.getDisplayedSignatures(t),_.a.getSelectedDisplayedSignatureIndex(t),_.a.isElementDisabled(t,"defaultSignatureDeleteButton"),_.a.getSavedInitials(t),_.a.getSelectedDisplayedInitialsIndex(t),_.a.getSignatureMode(t),_.a.getInitialsOffset(t)]})),7),s=l[0],f=l[1],p=l[2],d=l[3],h=l[4],v=l[5],m=l[6],y=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),E=function(){var t,e=(t=dt().mark((function t(e){var n,a,o,i,c,u,l;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v===g.a.FULL_SIGNATURE,o=(a=e-m)<0)r(lt.a.setInitialsOffset(m-1));else if(y[0].deleteSavedInitials(a),h===a&&!o){r(lt.a.setSelectedDisplayedInitialsIndex(0)),i=ht(y);try{for(i.s();!(c=i.n()).done;)c.value.hidePreview()}catch(t){i.e(t)}finally{i.f()}b.a.setToolMode(st.a)}if(y[0].deleteSavedSignature(e),f===e){r(lt.a.setSelectedDisplayedSignatureIndex(0)),u=ht(y);try{for(u.s();!(l=u.n()).done;)l.value.hidePreview()}catch(t){u.e(t)}finally{u.f()}b.a.setToolMode(st.a)}else(n?e<f:a<h)&&r(lt.a.setSelectedDisplayedSignatureIndex(f-1));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){vt(o,r,a,i,c,"next",t)}function c(t){vt(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}(),w=new Array(m).concat(d);return a.a.createElement("div",{className:i()("SavedSignatures",{empty:!s||s.length<1})},s.length?s.map((function(t,r){return a.a.createElement("div",{key:r,className:i()("signature-row",{active:e===r,"no-initials":!(null!=w&&w[r])}),onClick:function(){return n(r)}},a.a.createElement("div",{className:"inputContainer"},a.a.createElement("input",{type:"radio",onChange:function(){return n(r)},checked:r===e}),a.a.createElement("div",{className:"contentContainer"},a.a.createElement("div",{className:"imgContainer"},a.a.createElement("img",{alt:o("option.toolsOverlay.signatureAltText"),src:s[r].imgSrc})),(null==w?void 0:w[r])&&a.a.createElement("div",{className:"imgContainer"},a.a.createElement("img",{alt:o("option.toolsOverlay.signatureAltText"),src:w[r].imgSrc})),!p&&a.a.createElement("button",{className:"icon","data-element":"defaultSignatureDeleteButton",onClick:function(){return E(r)}},a.a.createElement(ft.a,{glyph:"icon-delete-line"})))),a.a.createElement("div",{className:"labelContainer"},a.a.createElement("div",{className:"signatureLabel"},o("option.type.signature")),(null==w?void 0:w[r])&&a.a.createElement("div",{className:"intialsLabel"},o("option.type.initials"))))})):a.a.createElement("div",{className:"emptyListContainer"},o("option.signatureModal.noSignatures")))},Et=n(13),wt=n(172);n(1487);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */St=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,a){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:w(t,n,c)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&n.call(y,o)&&(v=y);var g=h.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var a;r(this,"_invoke",{value:function(r,o){function i(){return new e((function(a,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==xt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ot(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function Lt(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){Ot(o,r,a,i,c,"next",t)}function c(t){Ot(o,r,a,i,c,"throw",t)}i(void 0)}))}}function jt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=It(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function At(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||It(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,e){if(t){if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(t,e):void 0}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kt=function(){var t=At(Object(c.e)((function(t){return[_.a.isElementDisabled(t,Et.a.SIGNATURE_MODAL),_.a.isElementOpen(t,Et.a.SIGNATURE_MODAL),_.a.getActiveToolName(t),_.a.getSignatureMode(t),_.a.getActiveDocumentViewerKey(t),_.a.getIsInitialsModeEnabled(t),_.a.isElementDisabled(t,Et.a.SAVED_SIGNATURES_TAB),_.a.getSelectedTab(t,Et.a.SIGNATURE_MODAL),_.a.getDisplayedSignatures(t),_.a.getSavedInitials(t)]})),10),e=t[0],n=t[1],o=t[2],f=t[3],p=t[4],d=t[5],h=t[6],m=t[7],y=t[8],E=t[9],w=b.a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),x=At(Object(r.useState)(!0),2),S=x[0],O=x[1],L=At(Object(r.useState)(0),2),j=L[0],A=L[1],I=Object(c.d)(),N=At(Object(u.a)(),1)[0];Object(wt.a)((function(){"AnnotationCreateSignature"!==o&&I(lt.a.closeElements([Et.a.SIGNATURE_MODAL,"signatureOverlay"]))}),[I,o]),Object(r.useEffect)((function(){n&&I(lt.a.closeElements([Et.a.PRINT_MODAL,"loadingModal","progressModal",Et.a.ERROR_MODAL]))}),[I,n]);var C=function(){var t,e=jt(w);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.clearLocation(),n.setSignature(null)}}catch(t){e.e(t)}finally{e.f()}I(lt.a.closeElement(Et.a.SIGNATURE_MODAL))},T=function(){var t=Lt(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D(),d&&M();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Lt(St().mark((function t(){var e,n,r,a,o;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w[0].saveSignatures(w[0].getFullSignatureAnnotation()),e=1;case 2:if(!(e<w.length)){t.next=8;break}return t.next=5,w[e].setSignature(w[0].getFullSignatureAnnotation());case 5:e++,t.next=2;break;case 8:return n=w[p-1],t.next=11,n.isEmptySignature();case 11:if(t.sent){t.next=37;break}if(b.a.setToolMode("AnnotationCreateSignature"),f!==g.a.FULL_SIGNATURE){t.next=37;break}if(!n.hasLocation()){t.next=19;break}return t.next=17,n.addSignature();case 17:t.next=36;break;case 19:r=jt(w),t.prev=20,r.s();case 22:if((a=r.n()).done){t.next=28;break}return o=a.value,t.next=26,o.showPreview();case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(20),r.e(t.t0);case 33:return t.prev=33,r.f(),t.finish(33);case 36:I(lt.a.closeElement(Et.a.SIGNATURE_MODAL));case 37:case"end":return t.stop()}}),t,null,[[20,30,33,36]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Lt(St().mark((function t(){var e,n,r,a,o;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w[0].saveInitials(w[0].getInitialsAnnotation()),e=1;case 2:if(!(e<w.length)){t.next=8;break}return t.next=5,w[e].saveInitials(w[0].getInitialsAnnotation());case 5:e++,t.next=2;break;case 8:return n=w[p-1],t.next=11,n.isEmptyInitialsSignature();case 11:if(t.sent){t.next=38;break}if(b.a.setToolMode("AnnotationCreateSignature"),f!==g.a.INITIALS){t.next=36;break}if(!n.hasLocation()){t.next=19;break}return t.next=17,n.addInitials();case 17:t.next=36;break;case 19:r=jt(w),t.prev=20,r.s();case 22:if((a=r.n()).done){t.next=28;break}return o=a.value,t.next=26,o.showInitialsPreview();case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(20),r.e(t.t0);case 33:return t.prev=33,r.f(),t.finish(33);case 36:I(lt.a.closeElement(Et.a.SIGNATURE_MODAL)),I(lt.a.setSignatureMode(g.a.FULL_SIGNATURE));case 38:case"end":return t.stop()}}),t,null,[[20,30,33,36]])})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Lt(St().mark((function t(e){var n,r,a,o,i,c;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f===g.a.FULL_SIGNATURE,I(lt.a[n?"setSelectedDisplayedSignatureIndex":"setSelectedDisplayedInitialsIndex"](e)),r=n?y[e]:E[e],a=r.annotation,b.a.setToolMode("AnnotationCreateSignature"),o=jt(w),t.prev=5,o.s();case 7:if((i=o.n()).done){t.next=20;break}return c=i.value,t.next=11,c[n?"setSignature":"setInitials"](a);case 11:if(!c.hasLocation()){t.next=16;break}return t.next=14,c[n?"addSignature":"addInitials"]();case 14:t.next=18;break;case 16:return t.next=18,c[n?"showPreview":"showInitialsPreview"]();case 18:t.next=7;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(5),o.e(t.t0);case 25:return t.prev=25,o.f(),t.finish(25);case 28:I(lt.a.closeElement(Et.a.SIGNATURE_MODAL));case 29:case"end":return t.stop()}}),t,null,[[5,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),F=Object(r.useCallback)((function(){O(!0)}),[S]),R=Object(r.useCallback)((function(){O(!1)}),[S]),G=i()({Modal:!0,SignatureModal:!0,open:n,closed:!n}),U="savedSignaturePanelButton"===m;return e?null:a.a.createElement(v.a,{onSwipedUp:C,onSwipedDown:C,preventDefaultTouchmoveEvent:!0},a.a.createElement(l.a,{locked:n},a.a.createElement("div",{className:G,"data-element":Et.a.SIGNATURE_MODAL},a.a.createElement("div",{className:i()("container",{"include-initials":d}),onMouseDown:function(t){return t.stopPropagation()}},a.a.createElement("div",{className:"swipe-indicator"}),a.a.createElement(s.d,{id:"signatureModal"},a.a.createElement("div",{className:"header-container"},a.a.createElement("div",{className:"header"},a.a.createElement("p",null,N("option.signatureModal.modalName")),a.a.createElement(ut.a,{className:"signatureModalCloseButton",dataElement:"signatureModalCloseButton",title:"action.close",img:"ic_close_black_24px",onClick:C})),a.a.createElement("div",{className:"tab-list"},!h&&a.a.createElement(s.a,{dataElement:"savedSignaturePanelButton"},a.a.createElement("button",{className:"tab-options-button"},N("option.type.saved"))),a.a.createElement("div",{className:"tab-options-divider"}),a.a.createElement(s.a,{dataElement:"inkSignaturePanelButton"},a.a.createElement("button",{className:"tab-options-button"},N("action.draw"))),a.a.createElement("div",{className:"tab-options-divider"}),a.a.createElement(s.a,{dataElement:"textSignaturePanelButton"},a.a.createElement("button",{className:"tab-options-button"},N("action.type"))),a.a.createElement("div",{className:"tab-options-divider"}),a.a.createElement(s.a,{dataElement:"imageSignaturePanelButton"},a.a.createElement("button",{className:"tab-options-button"},N("action.upload"))))),!h&&a.a.createElement(s.c,{dataElement:"savedSignaturePanel"},a.a.createElement(bt,{selectedIndex:j,setSelectedIndex:A})),a.a.createElement(s.c,{dataElement:"inkSignaturePanel"},a.a.createElement(k,{isModalOpen:n,enableCreateButton:R,disableCreateButton:F,isInitialsModeEnabled:d})),a.a.createElement(s.c,{dataElement:"textSignaturePanel"},a.a.createElement(Y,{isModalOpen:n,enableCreateButton:R,disableCreateButton:F,isInitialsModeEnabled:d})),a.a.createElement(s.c,{dataElement:"imageSignaturePanel"},a.a.createElement(ct,{isModalOpen:n,enableCreateButton:R,disableCreateButton:F,isInitialsModeEnabled:d})),a.a.createElement("div",{className:"footer"},a.a.createElement("button",{className:"signature-create",onClick:U?function(){return P(j)}:T,disabled:U?!U||!y.length||!n:!n||S},N(U?"action.apply":"action.create"))))))))};e.default=kt}}]);
//# sourceMappingURL=5.chunk.js.map