/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[22],{496:function(ya,ua,n){function pa(kb){return Object(gb.b)(void 0,void 0,void 0,function(){var lb,va,tb,Gb,Db,Lb,Mb,Xb,ac,Sb,Ub;return Object(gb.d)(this,function(dc){switch(dc.label){case 0:return lb=kb.Ya,va=kb.zn,tb=rb.getDocument(),Gb=[1],[4,Object(cb.c)(va,{extension:"pdf"})];case 1:return Db=dc.ba(),Lb=rb.ma(),ac=(Xb=$a.a).z2,[4,Db.oy()];case 2:return Mb=ac.apply(Xb,[dc.ba().xfdfString,lb]),Sb=!0,[4,tb.Rf(Db,Gb,lb,Sb)];
case 3:return dc.ba(),[4,tb.qg([lb+1],Sb)];case 4:return dc.ba(),Ub=Lb.gb().filter(function(mc){return mc.RF()&&mc.PageNumber===lb}),Lb.Ce(Ub,{force:!0,source:"contentEditTool"}),[4,Lb.DF(Mb)];case 5:return dc.ba(),ob||(rb.getDocument().dH(),rb.wA(lb),rb.Td()),[2]}})})}function na(kb){if(kb)return ma(kb.contents);Object(Sa.g)("Unable to extract document content")}function ma(kb){kb=(new DOMParser).parseFromString(kb,"text/html").documentElement.querySelector("body");kb.querySelectorAll("p").forEach(function(lb){lb.querySelectorAll("span").forEach(function(Gb){var Db=
Gb.getAttribute("style");Db=ka(Db,Gb.innerHTML);Gb.innerHTML=Db});var va=lb.getAttribute("style"),tb=lb.innerHTML.replaceAll("<br>","");lb.innerHTML=ka(va,tb)});return kb.innerHTML.trim()}function ka(kb,lb){if(null===kb||void 0===kb?0:kb.includes("bold"))lb="<strong>"+lb+"</strong>";if(null===kb||void 0===kb?0:kb.includes("italic"))lb="<em>"+lb+"</em>";if((null===kb||void 0===kb?0:kb.includes("underline:1;"))||(null===kb||void 0===kb?0:kb.includes("text-decoration: underline")))lb="<u>"+lb+"</u>";
return lb}function ja(kb){if(["STRONG","EM","U"].includes(kb.tagName)&&null!==kb.getAttribute("style")){var lb=document.createElement("span"),va=kb.style.color;va=ea(va);lb.setAttribute("style","color:"+va);kb.removeAttribute("style");lb.innerHTML=kb.innerHTML;kb.innerHTML="";kb.appendChild(lb)}else"SPAN"===kb.tagName&&null!==kb.getAttribute("style")?(va=kb.style.color,va=ea(va),kb.setAttribute("style","color:"+va)):"A"===kb.tagName&&kb.removeAttribute("style")}function ha(kb){var lb=rb.ma(),va=lb.gb().filter(function(tb){return tb.Nc()&&
tb.PageNumber===kb});lb.Ce(va,{force:!0,source:"contentEditTool"})}function aa(kb,lb,va,tb){return Object(gb.b)(void 0,void 0,void 0,function(){var Gb,Db,Lb,Mb,Xb,ac,Sb,Ub,dc,mc,oc,Ic,yc,ic,Bc,Jc,Nc;return Object(gb.d)(this,function(Kc){switch(Kc.label){case 0:if(!kb)return[2];Gb=lb.replaceAll("<p><br></p>","");Db=y(Gb);Db=Db.replace(/<span style="color: var\(--text-color\);">(.*?)<\/span>/g,"$1");Db=Db.replace(/<span class="ql-cursor">(.*?)<\/span>/g,"");Lb=kb.mc.id;Mb=kb.PageNumber;Xb=fb[Mb];ac=
Xb.galleys.find(function(gc){return gc.id===Lb});Sb=ma(ac.contents);Ub=fa(Mb,Xb,Sb,Db,Lb);if(""===Ub)return[3,2];dc=new TextEncoder;mc=dc.encode(Ub);oc=mc.buffer;Ic=Object(Wa.c)()||"https://www.pdftron.com/webfonts/v2/";yc=rb.getDocument();return[4,yc.Kc([Mb],void 0,!0)];case 1:return ic=Kc.ba(),Bc=r(),Za.postMessage({cmd:"importText",pdfFile:ic,pageNumber:Mb,webFontURL:Ic,galleyId:Lb,importData:oc,tableData:Bc,isSearchReplace:va,callbackMapId:tb},[oc,Bc]),Jc={},ac&&(Nc=ac.galleyBox,Jc={top:Nc.top,
left:Nc.left,bottom:Nc.bottom,right:Nc.right}),Object(Ya.E)(Sb,Db,Jc),[3,3];case 2:Object(Sa.g)("Unable to generate import XML"),Kc.label=3;case 3:return[2]}})})}function y(kb){var lb=new DOMParser,va=lb.parseFromString(kb,"text/xml");va.querySelector("parsererror")&&(va=lb.parseFromString("<Root>"+kb+"</Root>","text/xml"));va.querySelectorAll("a").forEach(function(tb){var Gb=tb.childNodes[0];Array.from(tb.querySelectorAll("*")).find(function(Db){return"u"===Db.tagName.toLowerCase()})||(tb=document.createElement("u"),
Gb.after(tb),tb.appendChild(Gb))});return(new XMLSerializer).serializeToString(va)}function r(){return(new TextEncoder).encode("").buffer}function f(kb,lb,va){return Object(gb.b)(void 0,void 0,void 0,function(){var tb;return Object(gb.d)(this,function(){tb=r();Za.postMessage({cmd:"exportFile",pageNumber:lb,performExport:va,pdfFile:kb,tableData:tb},[kb,tb]);return[2]})})}function a(kb,lb,va){return Object(gb.b)(void 0,void 0,void 0,function(){var tb;return Object(gb.d)(this,function(Gb){switch(Gb.label){case 0:return[4,
kb.Kc([lb],void 0,!0)];case 1:return tb=Gb.ba(),f(tb,lb,va),[2]}})})}function b(kb,lb,va){return Object(gb.b)(void 0,void 0,void 0,function(){return Object(gb.d)(this,function(){ha(lb);fb[lb]={galleys:[],objects:[]};a(kb,lb,va);return[2]})})}function h(kb){return Object(gb.b)(void 0,void 0,void 0,function(){return Object(gb.d)(this,function(){eb||(sb=kb,rb=sb.xa,eb=new Promise(function(lb,va){var tb=window.Core.ContentEdit.getWorkerPath(),Gb=window.Core.ContentEdit.getResourcePath();Za=new Worker(tb+
"InfixServerModule.js");Za.onmessage=function(Db){w(Db,lb,va)};Za.postMessage({cmd:"isReady",resourcePath:Gb})}),e());return[2,eb]})})}function e(){var kb=window.parent.document.createElement("style");kb.id="iceni-text-edit-css";kb.textContent="._iceni_galleyInput {\n      background: transparent;\n      color: transparent;\n      resize: none;\n      border: 0 none;\n      outline: none;\n      position: absolute;\n      opacity: 0.4;\n     }\n     ._iceni_galleyInput:focus {\n      background: transparent;\n      color: transparent;\n      resize: none;\n      border: 0 none;\n      outline: none;\n      position: absolute;\n      caret-color : black;\n    }\n     ._iceni_galleyInput *::selection {\n      background: "+
(qb.t?Eb.f.l7:Eb.f.AI)+";\n      color:transparent;\n    }";document.head.appendChild(kb)}function w(kb,lb,va){return Object(gb.b)(this,void 0,void 0,function(){var tb,Gb,Db,Lb,Mb,Xb,ac,Sb,Ub,dc,mc,oc,Ic;return Object(gb.d)(this,function(yc){switch(yc.label){case 0:tb=kb.data;Gb=tb.pageNumber;Db=tb.cmd;Lb=tb.subCmd;Xb=Db;switch(Xb){case "runCommand":return[3,1];case "isReady":return[3,2];case "initialiseInfixServer":return[3,4];case "loadAvailableFonts":return[3,5];case "exportFile":return[3,6];case "insertNewTextBox":return[3,
7];case "importText":return[3,8];case "transformObject":return[3,8];case "alignParagraph":return[3,8];case "deleteObject":return[3,9];case "insertImage":return[3,10];case "dumpTextBox":return[3,11];case "renderGalleyArea":return[3,12];case "renderEditGalley":return[3,13];case "editText":return[3,14]}return[3,15];case 1:switch(Lb){case "Edit Page":return Pa(tb.resultsXML),[2,!1];case "loadAvailableFonts":return Va(tb.resultsXML),[2,!0]}return[3,15];case 2:return[4,Object(Ia.b)()];case 3:return ac=
yc.ba(),Za.postMessage({cmd:"initialiseInfixServer",l:ac}),[3,15];case 4:return(Sb=oa(tb.resultsXML))?(lb(),Ub=Object(Wa.c)()||"https://www.pdftron.com/webfonts/v2/",Za.postMessage({cmd:"loadAvailableFonts",webFontURL:Ub})):va("License key does not have content edit permission"),[3,15];case 5:return Aa(tb.resultsXML),[3,15];case 6:return tb.exportPerformed?la(Gb,tb.exportXML,tb.objectXML,tb.resultsXML):Mb=fb[Gb],Ab.resolve(),Cb&&Cb[Gb]&&Cb[Gb].resolve(),[3,15];case 7:return ia(Gb,tb.exportXML,tb.contentHTML),
Mb=fb[Gb],pa({Ya:Gb,zn:tb.pdfBuffer,Dp:Mb,Ru:tb.id}),[3,15];case 8:Mb=fb[Gb];za(Gb,tb.resultsXML);pa({Ya:Gb,zn:tb.pdfBuffer,Dp:Mb,Ru:tb.id,a0:tb.isSearchReplace});dc=tb.isSearchReplace;mc=tb.callbackMapId;if(dc&&mc&&Ib[mc])Ib[mc]();return[3,15];case 9:return Mb=fb[Gb],za(Gb,tb.resultsXML),Mb.galleys=Mb.galleys.filter(function(ic){return ic.id!==tb.id}),Mb.objects=Mb.objects.filter(function(ic){return ic.id!==tb.id}),oc={Ya:tb.pageNumber,zn:tb.pdfBuffer,Dp:Mb},pa(oc),[3,15];case 10:return Mb=fb[Gb],
za(Gb,tb.resultsXML),Ic={Ya:Gb,zn:tb.pdfBuffer,Dp:Mb,Ru:tb.isText,Q_:!0},pa(Ic),[3,15];case 11:sb.gca(tb.galleyId,tb.resultsXML),yc.label=12;case 12:return Object(Eb.l)(tb,Oa),[2,!0];case 13:return Object(Eb.m)(tb.galleyId,tb.imageData),[3,15];case 14:return x(tb.galleyId,tb.subCmd,tb.caretStart,tb.caretEnd,tb.commandXML,tb.resultsXML),[2,!0];case 15:return[2]}})})}function x(kb,lb,va,tb,Gb,Db){var Lb=Object(Eb.o)(kb,Oa);Da(Lb,lb,Db,Gb,va,tb);kb=Object(Eb.n)(kb);Ka(kb.parentElement,Lb,kb,va,tb);tb=
kb.parentElement.clientWidth/Lb.Fd.width;kb=void 0;void 0===va&&(va=0);void 0===kb&&(kb=null);lb={top:-1,left:-1,bottom:-1,right:-1};null===kb?lb=z(Db):(lb.top=kb.top,lb.left=kb.left,lb.bottom=kb.bottom,lb.right=kb.right);var Mb=lb;kb=(Mb.right-Mb.left)*tb;lb=(Mb.top-Mb.bottom)*tb;if(0!==kb&&0!==lb){Gb=Pb+(Lb.Jh+tb+Mb.top+Mb.left+Mb.bottom+Mb.right)+Zb;var Xb=bc+0+Zb,ac="imageFile"+(Lb.Jh+tb+Mb.top+Mb.left+Mb.bottom+Mb.right)+".png",Sb=Wb.a.qY(Mb,kb,lb,ac,wb),Ub=Lb.Fd.bk;Db=(Mb.left-Ub.x)*tb;tb*=
Ub.y-Mb.top;Za.postMessage({cmd:"renderGalleyArea",resultsFile:Gb,commandXML:Sb,commandFile:Xb,imageFName:ac,galleyId:Lb.Jh,width:kb,height:lb,xOffset:Db,yOffset:tb,caretPos:va})}}function z(kb){var lb={top:-1,left:-1,bottom:-1,right:-1};kb=new Uint8Array(kb);kb=(new TextDecoder("utf-8")).decode(kb);kb=(new DOMParser).parseFromString(kb,"text/xml").getElementsByTagName("Redraw");Array.prototype.slice.call(kb).forEach(function(va){var tb=va.getElementsByTagName("Top");tb=parseFloat(tb[0].innerHTML);
if(-1===lb.top||tb>lb.top)lb.top=tb;tb=va.getElementsByTagName("Left");tb=parseFloat(tb[0].innerHTML);if(-1===lb.left||tb<lb.left)lb.left=tb;tb=va.getElementsByTagName("Bottom");tb=parseFloat(tb[0].innerHTML);if(-1===lb.bottom||tb<lb.bottom)lb.bottom=tb;tb=va.getElementsByTagName("Right");tb=parseFloat(tb[0].innerHTML);if(-1===lb.right||tb>lb.right)lb.right=tb});return lb}function ca(kb,lb,va,tb,Gb){this.pagecount=lb;this.pageBBox=va;this.galleys=tb;this.objects=Gb}function ba(kb,lb){this.family=
kb;this.variations=lb}function fa(kb,lb,va,tb,Gb){var Db=[],Lb=[];(new DOMParser).parseFromString(tb,"text/html").documentElement.querySelectorAll("p").forEach(function(Ub,dc){Db[dc]=Ub.innerHTML;Lb[dc]={fontSize:Ub.style.fontSize,fontFamily:Ub.style.fontFamily,color:ea(Ub.style.color)}});va=(new DOMParser).parseFromString(va,"text/html");var Mb=null;va.documentElement.querySelectorAll("p").forEach(function(Ub,dc){if(dc<Db.length){var mc=(new DOMParser).parseFromString(Db[dc],"text/html").documentElement.querySelector("body");
mc.childNodes.forEach(function(Ic){ja(Ic)});Ub.innerHTML=mc.innerHTML;Mb=Ub.getAttribute("style");mc=Lb[dc].fontSize?Lb[dc].fontSize:Ub.style.fontSize;var oc=Lb[dc].fontFamily?Lb[dc].fontFamily.replace(/\s+/g,"").replace(/['"]+/g,""):Ub.style.fontFamily;dc=Lb[dc].color?Lb[dc].color:null;Mb=Mb.replace(/(font:.*?;)/i,"font:normal normal "+mc+" "+oc+";");Mb=Mb.replace("Italic","");Mb=Mb.replace("underline:1;","underline:0;");Mb=Mb.replace("text-decoration: underline;","text-decoration: none;");dc&&(Mb=
Mb.replace(/(color:.*?;)/i,"color:"+dc+";"));Ub.setAttribute("style",Mb)}else Ub.remove()});for(tb=va.documentElement.querySelectorAll("p").length;tb<Db.length;tb++){var Xb=document.createElement("p");Xb.setAttribute("id","0");var ac=(new DOMParser).parseFromString(Db[tb],"text/html").documentElement.querySelector("body");ac.childNodes.forEach(function(Ub){ja(Ub)});Xb.innerHTML=ac.innerHTML;null!==Mb&&Xb.setAttribute("style",Mb);va.documentElement.querySelector("body").appendChild(Xb)}va=va.documentElement.querySelector("body").innerHTML;
var Sb="";fb[kb].galleys.forEach(function(Ub){Ub.id===Gb&&(Sb=Ub)});if(""===Sb)return"";lb="<DOC id='"+lb.id+"' pagecount='"+lb.pagecount+"'>";lb=lb+("<STORY galley_ids='"+Gb+"' pagenum='"+kb+"'><galleys>")+(Sb.galleysContents+"</galleys>");Sb.contents=va;lb=lb+va+"\n</STORY>";return lb+="</DOC>"}function ea(kb){return kb.startsWith("rgb(")?"#"+kb.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"").split(",").map(function(lb){return("00"+parseInt(lb,10).toString(16)).slice(-2)}).join(""):kb}function oa(kb){kb=
new Uint8Array(kb);var lb=(new TextDecoder("utf-8")).decode(kb);kb=!1;lb=(new DOMParser).parseFromString(lb,"text/xml").getElementsByTagName("LicenseCheck");null!==lb&&0<lb.length&&(lb=lb[0].getElementsByTagName("Status")[0].innerHTML,"error"!==lb&&"ok"===lb&&(kb=!0));return kb}function ia(kb,lb){lb=(new TextDecoder("utf-8")).decode(lb);lb=(new DOMParser).parseFromString(lb,"text/xml").getElementsByTagName("STORY");var va=Array.prototype.slice.call(lb)[0];lb=va.getAttribute("galley_ids");var tb=va.getAttribute("galley_oids"),
Gb=Array.prototype.slice.call(va.getElementsByTagName("g"))[0],Db=Gb.getAttribute("bbox").split(" ");Db=new Eb.c(parseFloat(Db[0]),parseFloat(Db[1]),parseFloat(Db[2]),parseFloat(Db[3]));Gb=Gb.innerHTML;var Lb=Array.prototype.slice.call(va.getElementsByTagName("galleys"))[0];Lb.parentNode.removeChild(Lb);va=sa(va.innerHTML).trim();lb=new Eb.a({id:lb,pagenum:kb,galleysContents:Gb,contents:va,galleyBox:Db,oid:tb});tb=fb[kb];tb.galleys.push(lb);fb[kb]=tb}function la(kb,lb,va,tb){lb=Object(Eb.j)(lb);va=
Object(Eb.j)(va);tb=Object(Eb.j)(tb);fb[kb]=qa(kb,lb,va,tb)}function ra(kb,lb){kb=parseFloat(kb);return isNaN(lb)||lb<kb?kb:lb}function qa(kb,lb,va,tb){var Gb;var Db=new DOMParser;tb=Db.parseFromString(tb,"text/xml");Array.prototype.slice.call(tb.getElementsByTagName("BBox")).forEach(function(Xb){if("CropBox"===Xb.getAttribute("Name")){var ac=parseFloat(Xb.getElementsByTagName("Top").item(0).innerHTML),Sb=parseFloat(Xb.getElementsByTagName("Bottom").item(0).innerHTML),Ub=parseFloat(Xb.getElementsByTagName("Left").item(0).innerHTML);
Xb=parseFloat(Xb.getElementsByTagName("Right").item(0).innerHTML);Gb=new Eb.c(ac,Ub,Sb,Xb)}});Db=new DOMParser;tb=Db.parseFromString(lb,"text/xml");var Lb=[];Array.prototype.slice.call(tb.getElementsByTagName("STORY")).forEach(function(Xb){var ac=Xb.getAttribute("galley_ids"),Sb=Xb.getAttribute("galley_oids"),Ub=Array.prototype.slice.call(Xb.getElementsByTagName("g"))[0],dc=Ub.getAttribute("bbox").split(" ");dc=new Eb.c(parseFloat(dc[0]),parseFloat(dc[1]),parseFloat(dc[2]),parseFloat(dc[3]));Ub=Ub.innerHTML;
var mc=Array.prototype.slice.call(Xb.getElementsByTagName("galleys"))[0];mc.parentNode.removeChild(mc);Xb=sa(Xb.innerHTML).trim();ac=new Eb.a({id:ac,pagenum:kb,galleysContents:Ub,contents:Xb,galleyBox:dc,oid:Sb});Lb.push(ac)});Db=new DOMParser;var Mb=[];lb=Db.parseFromString(va,"text/xml").getElementsByTagName("Object");Array.prototype.slice.call(lb).forEach(function(Xb){var ac=Xb.getAttribute("Type"),Sb=Xb.getAttribute("OID");Xb=wa(Xb.getElementsByTagName("Point"));Xb=new Eb.c(Xb.top,Xb.left,Xb.bottom,
Xb.right);ac=new Eb.b({type:ac,oid:Sb,objectBox:Xb,pagenum:kb});Mb.push(ac)});lb=Array.prototype.slice.call(tb.getElementsByTagName("DOC"))[0].getAttribute("id");return new ca(lb,1,Gb,Lb,Mb)}function sa(kb){return(new DOMParser).parseFromString(kb,"text/html").documentElement.querySelector("body").innerHTML}function wa(kb){kb=Array.prototype.slice.call(kb);var lb=Number.NaN,va=Number.NaN,tb=Number.NaN,Gb=Number.NaN;kb.forEach(function(Db){var Lb=Db.getAttribute("Name");"TL"===Lb?(lb=ra(Db.getAttribute("Y"),
lb),tb=ra(Db.getAttribute("X"),tb)):"TR"===Lb?(lb=ra(Db.getAttribute("Y"),lb),Gb=ra(Db.getAttribute("X"),Gb)):"BR"===Lb?(va=ra(Db.getAttribute("Y"),va),Gb=ra(Db.getAttribute("X"),Gb)):"BL"===Lb&&(va=ra(Db.getAttribute("Y"),va),tb=ra(Db.getAttribute("X"),tb))});return{top:lb,bottom:va,left:tb,right:Gb}}function za(kb,lb){var va;lb=(new TextDecoder("utf-8")).decode(lb);var tb=(new DOMParser).parseFromString(lb,"text/xml");lb=tb.getElementsByTagName("Galley").item(0);if(null!==lb){var Gb=lb.getAttribute("id");
Array.prototype.slice.call(tb.getElementsByTagName("BBox")).forEach(function(Sb){var Ub=Sb.getElementsByTagName("Top"),dc=parseFloat(Ub.item(0).innerHTML);Ub=Sb.getElementsByTagName("Left");var mc=parseFloat(Ub.item(0).innerHTML);Ub=Sb.getElementsByTagName("Bottom");var oc=parseFloat(Ub.item(0).innerHTML);Ub=Sb.getElementsByTagName("Right");Sb=parseFloat(Ub.item(0).innerHTML);va=new Eb.c(dc,mc,oc,Sb)});fb[kb].galleys.forEach(function(Sb){Sb.id===Gb&&!0===va.Cx(Sb.galleyBox)&&(Sb.galleyBox=va)})}lb=
tb.getElementsByTagName("Object").item(0);if(null!==lb){var Db=lb.getAttribute("OID");lb=lb.getAttribute("Type");var Lb=wa(tb.getElementsByTagName("Point")),Mb=new Eb.c(Lb.top,Lb.left,Lb.bottom,Lb.right),Xb=!0;fb[kb].objects.forEach(function(Sb){Sb.oid===Db&&(Sb.objectBox=Mb,Xb=!1)});Xb&&(lb=new Eb.b({type:lb,oid:Db,objectBox:Mb,pagenum:kb}),fb[kb].objects.push(lb))}lb=tb.getElementsByTagName("NewParas").item(0);if(null!==lb){var ac=lb.getAttribute("id");fb[kb].galleys.forEach(function(Sb){if(Sb.id===
ac){var Ub="<Contents>"+Sb.contents;Ub+="</Contents>";var dc=Array.prototype.slice.call(tb.getElementsByTagName("NewPara"));Ub=(new DOMParser).parseFromString(Ub,"text/xml");var mc=Array.prototype.slice.call(Ub.getElementsByTagName("p"));dc.forEach(function(oc){var Ic=parseFloat(oc.innerHTML),yc=!1;mc.forEach(function(ic){var Bc=ic.getAttribute("id");!1===yc&&"0"===Bc&&(ic.setAttribute("id",Ic),yc=!0)})});Sb.contents=Ub.getElementsByTagName("Contents").item(0).innerHTML}})}}function Ha(kb){return{regex:0!==
(kb&nb.f.Vs),wildcard:0!==(kb&nb.f.hq),wholeWord:0!==(kb&nb.f.Ys),caseSensitive:0!==(kb&nb.f.aq)}}function Aa(kb){kb=new Uint8Array(kb);kb=(new TextDecoder("utf-8")).decode(kb);kb=(new DOMParser).parseFromString(kb,"text/xml").getElementsByTagName("Font");var lb={};Array.prototype.slice.call(kb).forEach(function(va){var tb=va.getAttribute("Family");tb in lb||(lb[tb]={});var Gb=[];Array.prototype.slice.call(va.getElementsByTagName("Variation")).forEach(function(Db){Db=Db.innerHTML;Gb.push(Db);if(Db.includes("Regular")||
Db===tb.replace(/\s+/g,""))lb[tb].hasRegular=!0;Db.includes("Bold")&&(lb[tb].hasBold=!0);Db.includes("Italic")&&(lb[tb].hasItalic=!0)});va=new ba(tb,Gb);Jb.push(va)});mb=Object.keys(lb).filter(function(va){return lb[va].hasRegular&&lb[va].hasBold&&lb[va].hasItalic})}function Ja(kb){var lb=kb.inputType,va=kb.target,tb=va._iceni_commands,Gb=La(va),Db=Gb.startindex;Gb=Gb.endindex;if(lb in hc){if(lb.includes("insertText"))hc[lb](kb.data,Db,Gb,tb);else if("insertParagraph"===lb)hc[lb](String.fromCharCode(10),
Db,Gb,tb);else if("insertLineBreak"===lb)hc[lb](String.fromCharCode(13),Db,Gb,tb);else if(lb.includes("delete"))hc[lb](va,Db,Gb,kb);else console.warn("Function ["+lb+"] not yet supported for InfixServer.");0<tb.length&&(va.hU=tb[tb.length-1].rG)}else console.warn("Unknown function ["+lb+"] not supported for InfixServer.")}function Ta(kb,lb,va){0<kb._iceni_commands.length&&(kb.dispatchEvent(new Event("input")),0===va&&(va=setTimeout(function(){Ca(kb)},75)));kb.hU=-1}function Ka(kb,lb,va,tb,Gb){void 0===
tb&&(tb=void 0);void 0===Gb&&(Gb=void 0);var Db=kb.querySelector("._iceni_galleyInput");null!==Db?Ta(Db,tb,xa):(Db=document.createElement("div"),Db.style.color="transparent",Db.style.caretColor="black",Db.className="_iceni_galleyInput",Db.style.display="block",Db.style.left="0%",Db.style.top="0%",Db.style.width="110%",Db.style.height="100%",Db.style.padding="0",Db.style.margin="0",Db.style.position="absolute",Db.style.overflow="clip",Db.contentEditable="true",Db.spellcheck=!1,Db._iceni_commands=[],
Db.hU=-1,Db.addEventListener("input",Na),Db.addEventListener("beforeinput",Ja),Db.addEventListener("keydown",Vb.a.lma.una),Db.focus(),kb.appendChild(Db));Db._iceni_applyingEdits=!1;kb=Db.clientWidth;var Lb=va.clientWidth;va=va.clientHeight;var Mb=Gb;Gb=[];for(var Xb=lb.Fd,ac=null,Sb=null,Ub=0,dc=Db.children.length,mc=document.getElementsByClassName("_iceni_text-padding");mc[0];)mc[0].parentNode.removeChild(mc[0]);mc=lb.Gs;lb=mc.length;void 0===tb&&(Mb=tb=sb.Bca(mc));for(var oc=window.getComputedStyle(Db,
null).getPropertyValue("font-size"),Ic=parseFloat(oc)/100,yc=0;yc<lb;yc++){oc=null;var ic=0,Bc=mc[yc],Jc=Bc.St,Nc=Jc.length,Kc=Ub+Nc;if(yc>=dc||tb>=Ub&&tb<Kc||Mb>=Ub&&Mb<Kc||!0===Bc.refresh){Bc.refresh=!1;oc=document.createElement("p");oc.className="para-sel";oc.style.content="";oc.style.margin="0";oc.style.padding="0";for(Bc=0;Bc<Nc;Bc++){var gc=Jc[Bc],$c=gc.Fd;Kc=Math.round(($c.left-Xb.left)*Lb/Xb.width);var Ed=Math.round(($c.right-$c.left)*Lb/Xb.width),Lc=va/Xb.height,Ac=Math.round((Xb.top-$c.top)*
Lc);$c=Math.round($c.height*Lc*100/Ic)/100;if(0===ic||Ac<ic)ic=Ac;Ac=Number(gc.c);32===Ac?Ac=160:45===Ac?Ac=8209:9===Ac?Ac=160:1!==Nc||10!==Ac&&12!==Ac&&13!==Ac||(Ac=65279);gc=document.createElement("span");gc.className="_iceni_text-sel";gc.style.content="";gc.style.margin="0";gc.style.padding="0";gc.style.fontSize=$c+"%";gc.setAttribute("data-xpos",""+Kc);gc.setAttribute("data-width",""+Ed);gc.appendChild(document.createTextNode(String.fromCharCode(Ac)));oc.appendChild(gc);tb===Ub&&(ac=gc);Mb===
Ub&&(Sb=gc);Ub++}oc.setAttribute("data-ypos",""+ic);Gb.push(oc)}else Ub+=Nc;oc&&(yc<dc?Db.replaceChild(oc,Db.childNodes[yc]):Db.appendChild(oc))}for(;Ub<=tb;)oc=Db.lastChild,Lb=oc.lastChild,gc=document.createElement("span"),gc.className="_iceni_text-sel _iceni_text-padding",gc.style.content="",gc.style.margin="0",gc.style.padding="0",gc.style.fontSize=Lb.style.fontSize,gc.setAttribute("data-xpos","-1"),gc.appendChild(document.createTextNode("\ufeff")),oc.appendChild(gc),Sb=ac=gc,Ub++;Db.caa=Ub-1;
if(dc>lb)for(Lb=dc-1;Lb>=lb;Lb--)Db.removeChild(Db.lastChild);Db=ac;Lb=Sb;va=Gb.length;for(tb=0;tb<va;tb++){Sb=Gb[tb];ac=Sb.childNodes.length;for(Ub=0;Ub<ac;Ub++)dc=Sb.childNodes[Ub],Mb=Number(dc.getAttribute("data-xpos")),-1!==Mb&&(Xb=Number(dc.getAttribute("data-width")),dc.style.marginLeft=100*(Mb-dc.offsetLeft-(dc.offsetWidth-Xb)/2)/kb+"%");ac=100*(Number(Sb.getAttribute("data-ypos"))-Sb.offsetTop)/kb;Sb.style.marginTop=ac+"%"}if(window.getSelection&&null!==Db){kb=window.getSelection();kb.removeAllRanges();
Gb=new Range;Gb.setStart(Db,0);null!==Lb&&Db!==Lb&&Gb.setEnd(Lb,0);try{kb.addRange(Gb)}catch(gd){console.error(gd)}}}function Na(){0!==xa&&(clearTimeout(xa),xa=0);var kb=this;kb.hasOwnProperty("_iceni_applyingEdits")&&!0===kb._iceni_applyingEdits||(xa=setTimeout(function(){Ca(kb)},75))}function Ca(kb){if(kb.hasOwnProperty("_iceni_commands")){var lb=kb._iceni_commands;if(0!==lb.length){kb._iceni_applyingEdits=!0;for(var va=Object(Eb.o)(kb.parentElement.dataset.gid,Oa),tb=0;tb<lb.length;tb++);kb=kb.parentElement.iU;
tb=Wb.a.xia(va.Jh,lb);var Gb=tb.zoa;Za.postMessage({cmd:"editText",subCmd:"Edit Text",galleyId:va.Jh,caretStart:Gb,caretEnd:Gb,resultsFile:Pb+(va.Jh+kb)+Zb,commandXML:tb.zda,commandFile:bc+0+Zb});lb.length=0}}}function Ea(kb,lb,va){var tb;if(0!==lb||lb!==va)return lb!==va?tb=Wb.a.rr("Delete",lb,va-lb,null,lb):0!==lb?tb=Wb.a.rr("Delete",lb-1,1,null,lb-1):kb.preventDefault(),lb=kb._iceni_commands,lb.push(tb),kb._iceni_commands=lb,tb}function La(kb){var lb=window.getSelection().getRangeAt(0);var va=
Ma(kb),tb=kb=-1,Gb=0,Db=Ga(lb.startContainer),Lb=Ga(lb.endContainer);if(null!=Db&&null!=Lb){for(var Mb=0;Mb<va.length;Mb++){var Xb=va[Mb],ac=Xb===Ga(Db),Sb=Xb===Ga(Lb);if(ac&&(kb=Gb+lb.startOffset,-1!==tb))break;if(Sb&&(tb=Gb+lb.endOffset,-1!==kb))break;Gb+=Xb.textContent.length}-1===tb&&(tb=kb);lb=va.length-1;kb=Math.min(kb,lb);tb=Math.min(tb,lb)}kb={startindex:kb,endindex:tb};lb=kb.startindex;kb=kb.endindex;lb>kb&&(tb=lb,lb=kb,kb=tb);return{startindex:lb,endindex:kb}}function Ma(kb){var lb=[];for(kb=
kb.firstChild;kb;kb=kb.nextSibling)3===kb.nodeType?lb.push(kb):lb=lb.concat(Ma(kb));return lb}function Ga(kb){kb.nodeType!==Node.TEXT_NODE&&(kb=kb.firstChild,kb.nodeType!==Node.TEXT_NODE&&(kb=kb.firstChild));return kb}function Da(kb,lb,va){lb=new Uint8Array(va);lb=(new TextDecoder("utf-8")).decode(lb);va=(new DOMParser).parseFromString(lb,"text/xml");var tb=va.getElementsByTagName("TextBox");lb=-1;0!==tb.length&&(lb=parseInt(tb[tb.length-1].getAttribute("Lines"),10));Array.prototype.slice.call(va.getElementsByTagName("Line")).forEach(function(Gb){var Db=
null,Lb=new Eb.d(0,0),Mb=Array.prototype.slice.call(Gb.getElementsByTagName("UC"));Gb=parseInt(Gb.getAttribute("Num"),10);var Xb=new Eb.i;Mb.forEach(function(ac){var Sb=ac.innerHTML.split(" ");ac=Sb[0];null!==Db&&(Lb=Db.Fd.Qt);var Ub=Object(Eb.p)(Sb[1],Sb[2],Lb);null!==Db&&(Lb=Db.Fd.Iq);var dc=Object(Eb.p)(Sb[3],Sb[4],Lb);null!==Db&&(Lb=Db.Fd.mw);var mc=Object(Eb.p)(Sb[5],Sb[6],Lb);null!==Db&&(Lb=Db.Fd.bk);Sb=Object(Eb.p)(Sb[7],Sb[8],Lb);Ub=new Eb.e(Sb,mc,Ub,dc);Db=ac=new Eb.g(ac,Ub);Xb.St.push(ac);
Xb.refresh=!0});Gb+1>kb.Gs.length?kb.Gs.push(Xb):kb.Gs[Gb]=Xb});va=va.getElementsByTagName("Overset");null!==va&&(va=Array.prototype.slice.call(va),0<va.length&&("1"===va[0].innerHTML.split(":")[1]?kb.L1=!0:kb.L1=!1));va=kb.Gs.length;if(-1!==lb&&va>lb)for(--va;va>=lb;va--)kb.Gs.pop()}function Pa(kb){kb=new Uint8Array(kb);kb=(new TextDecoder("utf-8")).decode(kb);Oa=[];kb=(new DOMParser).parseFromString(kb,"text/xml").getElementsByTagName("Object");Array.prototype.slice.call(kb).forEach(function(lb){if("Text"===
lb.getAttribute("Subtype")){var va=void 0,tb=lb.getAttribute("OID");lb=lb.getElementsByTagName("Quad");if(null!==lb&&0<lb.length){var Gb,Db,Lb,Mb;Array.prototype.slice.call(lb[0].getElementsByTagName("Point")).forEach(function(Xb){var ac=parseFloat(Xb.getAttribute("X")),Sb=parseFloat(Xb.getAttribute("Y"));Xb=Xb.getAttribute("Name");"TL"===Xb?Gb=new Eb.d(ac,Sb):"TR"===Xb?Db=new Eb.d(ac,Sb):"BR"===Xb?Lb=new Eb.d(ac,Sb):Mb=new Eb.d(ac,Sb)});va=new Eb.e(Gb,Db,Mb,Lb)}va=new Eb.h(tb,va);Oa.push(va)}})}
function Va(kb){kb=new Uint8Array(kb);kb=(new TextDecoder("utf-8")).decode(kb);kb=(new DOMParser).parseFromString(kb,"text/xml").getElementsByTagName("Variation");Array.prototype.slice.call(kb).forEach(function(lb){var va=lb.getAttribute("StrippedName");lb=new Xa(lb.innerHTML,va);ub.push(lb)})}function Xa(){}function Ua(){document.querySelectorAll("._iceni_contentEditCanvas").forEach(function(kb){if(kb.width!==kb.clientWidth||kb.height!==kb.clientHeight){kb.width=kb.clientWidth;kb.height=kb.clientHeight;
var lb=kb.parentElement,va=Object(Eb.o)(lb.dataset.gid,Oa);lb.iU=lb.clientWidth/va.Fd.width;lb=lb.iU;var tb="imageFile"+(va.Jh+lb)+".png";Za.postMessage({cmd:"renderEditGalley",resultsFile:Pb+(va.Jh+lb)+Zb,commandXML:Wb.a.qY({top:va.Fd.bk.y,left:va.Fd.bk.x,bottom:va.Fd.Iq.y,right:va.Fd.Iq.x},kb.width,kb.height,tb,wb),commandFile:bc+0+Zb,imageFName:tb,galleyId:va.Jh})}});setTimeout(Ua,100)}n.r(ua);var gb=n(0),cb=n(35),Wa=n(31),Ia=n(56),Sa=n(3),Ya=n(38),$a=n(6),db=n(146),nb=n(27),vb=n(9),xb=n(25),Eb=
n(165),Vb=n(118),Wb=n(246),qb=n(21),sb,xa=0,Oa=[],Za,eb,ob=!1,ub=[],fb={},rb,Ab=window.createPromiseCapability(),Cb=[],Jb=[],mb=[],wb=!1,Ib={},Pb="results",bc="commands",Zb=".xml",hc={insertParagraph:Vb.a.SN.JM,insertLineBreak:Vb.a.SN.JM,insertText:Vb.a.SN.JM,insertFromPaste:"insertFromPaste",deleteContentBackward:Ea,deleteByCut:Ea,deleteContentForward:function(kb,lb,va,tb){if(lb!==va)lb=Wb.a.rr("Delete",lb,va-lb,null,lb);else{va=La(kb).startindex;var Gb=kb.caa;if((Gb||0===Gb)&&va>=Gb){tb.preventDefault();
return}lb=Wb.a.rr("Delete",lb,1,null,lb)}kb._iceni_commands.push(lb)},historyRedo:"historyRedo"};ua["default"]={zV:function(kb){return Object(gb.b)(void 0,void 0,void 0,function(){var lb,va,tb,Gb,Db,Lb,Mb,Xb,ac,Sb;return Object(gb.d)(this,function(Ub){switch(Ub.label){case 0:return lb=kb.pageNumber,va=kb.newImage,tb=kb.scaleType,Gb=kb.position,Db=Gb.top,Lb=Gb.left,Mb=Gb.bottom,Xb=Gb.right,ac=rb.getDocument(),[4,ac.Kc([lb],void 0,!0)];case 1:return Sb=Ub.ba(),Za.postMessage({cmd:"insertImage",pdfFile:Sb,
pageNumber:lb,newImage:va,scaleType:tb,topVal:Db,leftVal:Lb,bottomVal:Mb,rightVal:Xb},[]),[2]}})})},AV:function(kb,lb){return Object(gb.b)(void 0,void 0,void 0,function(){var va,tb,Gb,Db,Lb,Mb,Xb,ac,Sb,Ub,dc,mc,oc,Ic,yc;return Object(gb.d)(this,function(ic){switch(ic.label){case 0:return va="<DOC><STORY><galleys></galleys>",tb=[],Gb=(new DOMParser).parseFromString(lb,"text/html"),Gb.documentElement.querySelectorAll("p").forEach(function(Bc,Jc){tb[Jc]=Bc.innerHTML}),tb.forEach(function(Bc,Jc){Bc=(new DOMParser).parseFromString(tb[Jc],
"text/html").documentElement.querySelector("body");Bc.childNodes.forEach(function(Nc){ja(Nc)});va+="<p>"+Bc.innerHTML+"</p>"}),va+="</STORY></DOC>",Db=kb.pageNumber,Lb=rb.getDocument(),Mb=kb.position,Xb=Mb.top,ac=Mb.left,Sb=Mb.bottom,Ub=Mb.right,dc=kb.defaultText,mc=kb.font,oc=kb.fontSize,Ic=kb.textColor,[4,Lb.Kc([Db],void 0,!0)];case 1:return yc=ic.ba(),Za.postMessage({cmd:"insertNewTextBox",pdfFile:yc,pageNumber:Db,topVal:Xb,leftVal:ac,bottomVal:Sb,rightVal:Ub,defaultText:dc,font:mc,fontSize:oc,
textColor:Ic,importData:va,content:lb}),[2]}})})},IV:function(kb,lb){return Object(gb.b)(void 0,void 0,void 0,function(){var va,tb,Gb,Db,Lb;return Object(gb.d)(this,function(Mb){switch(Mb.label){case 0:return va=kb.mc.id,tb=kb.PageNumber,Gb=rb.getDocument(),[4,Gb.Kc([tb],void 0,!0)];case 1:return Db=Mb.ba(),Lb=r(),Za.postMessage({cmd:"AlignParaText",pdfFile:Db,pageNumber:tb,galleyID:va,alignment:lb,topVal1:"",leftVal1:"",bottomVal1:"",rightVal1:"",topVal2:"",leftVal2:"",bottomVal2:"",rightVal2:"",
tableData:Lb},[Lb]),[2]}})})},fca:function(kb){Za.postMessage({cmd:"runCommand",subCmd:"Edit Page",resultsFile:Pb+0+Zb,commandXML:'<Commands><Command Name="Edit Page"><ImagesAndText/><WebFontURL>'+(kb+"</WebFontURL></Command></Commands>"),commandFile:bc+0+Zb})},iW:function(kb){var lb=ma(kb.mc.contents);lb=(new DOMParser).parseFromString(lb,"text/html").documentElement.querySelector("body");var va=lb.querySelectorAll("p"),tb=new XMLSerializer,Gb="bold"===va[0].style.fontWeight,Db=tb.serializeToString(va[0]).includes("<strong>");
va.forEach(function(Lb){if(Gb||Db){Lb.style.fontWeight="normal";var Mb=tb.serializeToString(Lb).replace(/<strong>/g,"");Mb=Mb.replace(/<\/strong>/g,"");Mb=(new DOMParser).parseFromString(Mb,"text/html").documentElement.querySelector("p");Lb.parentElement.replaceChild(Mb,Lb)}else Lb.style.fontWeight="bold",Lb.innerHTML="<strong>"+Lb.innerHTML.trim()+"</strong>"});lb=tb.serializeToString(lb);aa(kb,lb)},$ya:function(kb){return Object(gb.b)(void 0,void 0,void 0,function(){var lb,va,tb,Gb,Db,Lb;return Object(gb.d)(this,
function(Mb){switch(Mb.label){case 0:return lb=kb.id,va=kb.isText,tb=kb.pageNumber,Gb=rb.getDocument(),[4,Gb.Kc([tb],void 0,!0)];case 1:return Db=Mb.ba(),Lb=r(),Za.postMessage({cmd:"deleteObject",pdfFile:Db,pageNumber:tb,objectID:lb,isText:va,tableData:Lb},[Lb]),[2]}})})},hga:Ua,VY:na,l0:function(kb){var lb=ma(kb.mc.contents);lb=(new DOMParser).parseFromString(lb,"text/html").documentElement.querySelector("body");var va=lb.querySelectorAll("p"),tb=new XMLSerializer,Gb="italic"===va[0].style.fontStyle,
Db=tb.serializeToString(va[0]).includes("<em>");va.forEach(function(Lb){if(Gb||Db){Lb.style.fontStyle="normal";Lb.style.font.includes("Italic")&&(Lb.style.font=Lb.style.font.replace("Italic",""));var Mb=tb.serializeToString(Lb).replace(/<em>/g,"");Mb=Mb.replace(/<\/em>/g,"");Mb=(new DOMParser).parseFromString(Mb,"text/html").documentElement.querySelector("p");Lb.parentElement.replaceChild(Mb,Lb)}else Lb.style.fontStyle="italic",Lb.innerHTML="<em>"+Lb.innerHTML.trim()+"</em>"});lb=tb.serializeToString(lb);
aa(kb,lb)},KY:function(){return mb},v2:h,w2:b,Hna:function(kb,lb){void 0===lb&&(lb=1);var va='<Commands>\n\t<Command Name="ShowInvisibles" OID="'+kb.oid+'">true</Command>\n\t<Command Name="Dump Text Box" OID="'+kb.oid+'">\n\t</Command>\n</Commands>';Za.postMessage({cmd:"dumpTextBox",galleyId:kb.oid,resultsFile:Pb+(kb.oid+lb)+Zb,commandXML:va,commandFile:bc+0+Zb});return va},c4:function(kb){return Object(gb.b)(this,void 0,void 0,function(){var lb,va,tb,Gb,Db,Lb,Mb,Xb,ac,Sb,Ub,dc,mc,oc,Ic,yc,ic,Bc,
Jc,Nc,Kc,gc,$c=this;return Object(gb.d)(this,function(Ed){switch(Ed.label){case 0:lb=kb.replaceWith;va=kb.documentViewer;tb=kb.search;Gb=kb.searchResults;if(va){if(!Gb&&!tb)throw Error('The "searchResults" parameter is missing in the options');if(void 0===lb)throw Error('The "replaceWith" parameter should not be undefined');}else throw Error('The "documentViewer" parameter is missing in the options');Db=1===Gb.length;tb?(Lb=tb.VK,Mb=tb.KR):(Xb=Ha(va.Fy()),Lb=Xb.VK,Mb=Xb.KR);ac=null;Sb=[];if(Db)ac=
Gb[0],Sb=[ac.pageNum];else try{Sb=Object.keys(Gb.reduce(function(Lc,Ac){Lc[Ac.pageNum]=Ac.pageNum;return Lc},{})).map(function(Lc){return Number(Lc)})}catch(Lc){Object(Sa.i)(Lc)}Ub=0;if(ac)for(dc=va.sj(),mc=-1,oc=0,Ic=dc.length;oc<Ic&&(yc=dc[oc],yc.pageNum===mc?Ub++:(mc=yc.pageNum,Ub=0),!Object(db.a)(yc,ac));oc++);ic=Gb[0].resultStr;Bc=Lb?"mg":"mgi";Jc=Mb?"\\b("+ic+")\\b":"("+ic+")";Nc=new RegExp("(?<!</?[^>]*|&[^;]*)"+Jc,Bc);Ab=window.createPromiseCapability();return eb?[3,2]:[4,h(va.Lm())];case 1:Ed.ba(),
Ed.label=2;case 2:return Ya.a.trigger(vb.e.SEARCH_AND_REPLACE_STARTED),Kc=0,gc=Sb.map(function(Lc){return Object(gb.b)($c,void 0,void 0,function(){var Ac,gd=this;return Object(gb.d)(this,function(){Ac=new Promise(function(xd,Ld){return Object(gb.b)(gd,void 0,void 0,function(){var yd=this;return Object(gb.d)(this,function(od){switch(od.label){case 0:return Cb[Lc]=window.createPromiseCapability(),[4,b(va.getDocument(),Lc,!0)];case 1:return od.ba(),Cb[Lc].promise.then(function(){return Object(gb.b)(yd,
void 0,void 0,function(){function hd(rd,Nd){return Object(gb.b)(this,void 0,void 0,function(){var xc,le;return Object(gb.d)(this,function(Vd){switch(Vd.label){case 0:xc=Object(xb.f)(),Ib[xc]=function(){delete Ib[xc];xd(!0);Ya.a.trigger(vb.e.SEARCH_AND_REPLACE_TEXT_REPLACED)},Vd.label=1;case 1:return Vd.Ke.push([1,3,,4]),[4,aa(rd,Nd,!0,xc)];case 2:return Vd.ba(),[3,4];case 3:return le=Vd.ba(),Object(Sa.i)(le),Ld(le),[3,4];case 4:return[2]}})})}var Kd,Fb,Rb,Qb,hb,nc,sc,fc,Yc,Vc,id,jd,Wc,Sc,ke,dd,ce;
return Object(gb.d)(this,function(){Kd=rb.ma();Fb=Kd.gb().filter(function(rd){return rd.PageNumber===Lc}).filter(function(rd){return rd.Nc()}).concat();Rb=[];hb=Qb=0;for(nc=Fb.length;hb<nc;hb++){sc=Fb[hb];fc=sc.mc;Yc=na(fc);Vc=[];try{for(id=void 0;null!==(id=Nc.exec(Yc));)Vc.push(id),Rb.push(Gb[Kc]),Kc++}catch(rd){Object(Sa.i)(rd)}if(Vc.length)if(Qb+=Vc.length,Db&&Qb>Ub){jd=Math.abs(Qb-Vc.length-Ub);Wc=Vc[jd].index;Sc=Yc.substr(0,Wc);ke=lb;dd=Yc.substr(Wc+ic.length,Yc.length);ce=""+Sc+ke+dd;Ya.a.trigger(vb.e.SEARCH_AND_REPLACE_TEXT_FOUND,
[[ac]]);hd(sc,ce);break}else Db||(ob=!0,ce=Yc.replace(Nc,lb),Ya.a.trigger(vb.e.SEARCH_AND_REPLACE_TEXT_FOUND,[Rb]),hd(sc,ce))}return[2]})})}).catch(Ld),[2]}})})});return[2,Ac]})})}),[2,Promise.all(gc).then(function(){Db&&ac?setTimeout(function(){var gd=[];va.jw(Gb[0].resultStr,va.Fy(),{startPage:Sb[0],endPage:Sb[0],fullSearch:!0,onDocumentEnd:function(){ob=!1;Ya.a.trigger(vb.e.SEARCH_AND_REPLACE_ENDED);va.hI(Sb[0]-1,gd)},onResult:function(xd){xd.resultCode===nb.e.Tl&&gd.push(xd)}})},200):(va.bL(),
va.vl(),va.Td(),ob=!1,Ya.a.trigger(vb.e.SEARCH_AND_REPLACE_ENDED));var Lc=rb.ma(),Ac=Lc.gb().filter(function(gd){return gd.Nc()});Lc.Ce(Ac,{force:!0,source:"contentEditTool"})})]}})})},v4:function(kb,lb){var va=ma(kb.mc.contents);va=(new DOMParser).parseFromString(va,"text/html").documentElement.querySelector("body");var tb=va.querySelectorAll("p"),Gb=new XMLSerializer;tb.forEach(function(Db){Db.style.fontFamily=lb});va=Gb.serializeToString(va);aa(kb,va)},w4:function(kb,lb){var va=ma(kb.mc.contents);
va=(new DOMParser).parseFromString(va,"text/html").documentElement.querySelector("body");var tb=va.querySelectorAll("p"),Gb=new XMLSerializer;tb.forEach(function(Db){Db.style.fontSize=lb});va=Gb.serializeToString(va);aa(kb,va)},U4:function(kb,lb){var va=ma(kb.mc.contents);va=(new DOMParser).parseFromString(va,"text/html").documentElement.querySelector("body");var tb=va.querySelectorAll("p"),Gb=new XMLSerializer;tb.forEach(function(Db){Db.style.color=lb});va.querySelectorAll("span").forEach(function(Db){Db.setAttribute("style",
"color:"+lb)});va=Gb.serializeToString(va);aa(kb,va)},rR:function(){wb=!wb},Ina:function(kb,lb,va){kb=Object(Eb.o)(kb,Oa);kb.Gs=[];Da(kb,"Export Page",lb);lb=document.createElement("canvas");lb.className="_iceni_contentEditCanvas";lb.style.display="block";lb.style.left="0%";lb.style.top="0%";lb.style.width="100%";lb.style.height="100%";lb.style.padding="0";lb.style.margin="0";lb.style.position="absolute";va.appendChild(lb);Ka(va,kb,lb)},yya:function(kb){return Object(gb.b)(void 0,void 0,void 0,function(){var lb,
va,tb,Gb,Db,Lb,Mb,Xb,ac,Sb,Ub,dc;return Object(gb.d)(this,function(mc){switch(mc.label){case 0:return lb=kb.id,va=kb.position,tb=va.top,Gb=va.left,Db=va.bottom,Lb=va.right,Mb=kb.isText,Xb=kb.pageNumber,ac=rb.getDocument(),[4,ac.Kc([Xb],void 0)];case 1:return Sb=mc.ba(),Ub=r(),dc={cmd:"transformObject",pdfFile:Sb,pageNumber:Xb,objectID:lb,isText:Mb,topVal:tb,leftVal:Gb,bottomVal:Db,rightVal:Lb,tableData:Ub,isUpdatingRect:kb.isUpdatingRect},Za.postMessage(dc,[Ub]),[2]}})})},l6:aa,e6:function(kb){var lb=
ma(kb.mc.contents);lb=(new DOMParser).parseFromString(lb,"text/html").documentElement.querySelector("body");var va=lb.querySelectorAll("p"),tb=new XMLSerializer,Gb=va[0].style.textDecoration.includes("underline")||va[0].style.textDecoration.includes("word"),Db=tb.serializeToString(va[0]).includes("<u>");va.forEach(function(Lb){if(Gb||Db){Lb.style.textDecoration=Lb.style.textDecoration.replace("underline","");var Mb=tb.serializeToString(Lb).replace(/<u>/g,"");Mb=Mb.replace(/<\/u>/g,"");Mb=(new DOMParser).parseFromString(Mb,
"text/html").documentElement.querySelector("p");Lb.parentElement.replaceChild(Mb,Lb)}else Lb.style.textDecoration.includes("none")?Lb.style.textDecoration=Lb.style.textDecoration.replace("none","underline"):Lb.style.textDecoration+=" underline",Lb.innerHTML="<u>"+Lb.innerHTML.trim()+"</u>"});lb=tb.serializeToString(lb);aa(kb,lb)},Iha:a,vsa:function(kb){return Object(gb.b)(void 0,void 0,void 0,function(){var lb,va,tb,Gb,Db,Lb,Mb,Xb,ac;return Object(gb.d)(this,function(Sb){switch(Sb.label){case 0:return lb=
kb.Qca,va=kb.Rca,tb=kb.Nea,Gb=kb.Jh,Db=kb.Ya,Lb=Object(Eb.k)(lb,va,tb),Mb=rb.getDocument(),[4,Mb.Kc([Db],void 0,!0)];case 1:return Xb=Sb.ba(),ac=r(),Za.postMessage({cmd:"applyTransformMatrix",pdfFile:Xb,pageNumber:Db,transformMatrix:Lb,objectID:Gb,tableData:ac}),[2]}})})},Eza:function(){return Za},sza:f,ZAa:function(){Za&&(Za.terminate(),eb=Za=null)},FAa:w,EAa:la,vAa:qa,RAa:function(){return wb}}}}]);}).call(this || window)
