/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[13],{490:function(ya,ua,n){function pa(){return!1}function na(x,z,ca){if(!(z in w))return!0;z=w[z];for(var ba=0;ba<z.length;ba++){var fa=x;var ea=z[ba];var oa=ca;if(ea.name in fa){var ia="",la=!1;fa=fa[ea.name];switch(ea.type){case "s":ia="String";la=Object(ja.isString)(fa);break;case "a":ia="Array";la=Object(ja.isArray)(fa);break;case "n":ia="Number";la=Object(ja.isNumber)(fa)&&Object(ja.isFinite)(fa);break;case "o":ia="Object",
la=Object(ja.isObject)(fa)&&!Object(ja.isArray)(fa)}la||oa.reject('Expected response field "'+ea.name+'" to have type '+ia);ea=la}else oa.reject('Response missing field "'+ea.name+'"'),ea=!1;if(!ea)return!1}return!0}function ma(x){for(var z=0,ca=["locale","excelMaxAllowedCellCount","applyPageBreaksToSheet","excelDefaultCellBorderWidth","displayChangeTracking"];z<ca.length;z++){var ba=ca[z],fa=ba;ba=ba.charAt(0).toUpperCase()+ba.slice(1);x[fa]&&(Object.defineProperty(x,ba,Object.getOwnPropertyDescriptor(x,
fa)),delete x[fa])}return x}n.r(ua);var ka=n(0),ja=n(1);n.n(ja);var ha=n(3);ya=n(48);var aa=n(25),y=n(510),r=n(105),f=n(417),a=n(46),b=n(187),h=function(){function x(){this.request=this.result=null;this.state=0;var z=this;z.promise=new Promise(function(ca,ba){z.resolve=function(){if(0===z.state||4===z.state)z.state=1,z.result=arguments[0],ca.apply(null,arguments)};z.reject=function(){if(0===z.state||4===z.state)z.state=2,ba.apply(null,arguments)}})}x.prototype.ev=function(){return 1===(this.state&
1)};x.prototype.bna=function(){return 2===(this.state&2)};x.prototype.Ej=function(){return!this.bna()&&!this.ev()};x.prototype.Bma=function(){return 4===(this.state&4)};x.prototype.xQ=function(){this.state|=4};return x}(),e=function(){function x(){this.Nu={};this.Xb=[]}x.prototype.pop=function(){var z=this.Xb.pop();this.Nu[z.key]=void 0;return z};x.prototype.push=function(z,ca){ca={key:z,data:ca};this.Xb.push(ca);this.Nu[z]=ca.data};x.prototype.contains=function(z){return!!this.Nu[z]};x.prototype.get=
function(z){return this.Nu[z]};x.prototype.set=function(z,ca){var ba=this;this.Nu[z]=ca;this.Xb.forEach(function(fa,ea){fa.key===z&&(ba.Xb[ea]=fa)})};x.prototype.remove=function(z){var ca=this;this.Nu[z]=void 0;this.Xb.forEach(function(ba,fa){ba.key===z&&ca.Xb.splice(fa,1)})};x.prototype.length=function(){return this.Xb.length};return x}(),w={pages:[{name:"pages",type:"a"}],pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",
type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],cAnnots:[{name:"annots",type:"a"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],ApString2Xod:[{name:"url",type:"s"},{name:"rID",type:"s"}]};n=function(){function x(z,ca,ba){var fa=this;this.eR=this.xX=!1;this.Ph=this.rI=this.sw=this.Ze=this.Hx=this.zp=this.Gx=this.Un=null;this.xn=new h;this.Tq=
new h;this.TD=!1;this.dg=this.cf=this.df=this.Vf=null;this.yg=[];this.GE=[];this.cache={};this.timeStamp=0;this.Kh=[];this.Nj=[];this.dM=null;this.kX=!1;this.l4=this.id=null;this.BO=this.g_=pa;this.Li=0;this.xN=!1;this.a1=1;this.Kj={};this.Et=0;this.Gv=new e;ca.endsWith("/")||(ca+="/");ba=ba||{};this.xX=ba.disableWebsockets||!1;this.eR=ba.singleServerMode||!1;null!=ba.customQueryParameters&&Object(a.b)("wvsQueryParameters",ba.customQueryParameters);ca.endsWith("blackbox/")||(ca+="blackbox/");this.Un=
ba.uploadData||null;this.sw=ba.uriData||null;this.Gx=ba.cacheKey||null;if(this.zp=ba.officeOptions||null)this.zp=ma(this.zp);this.Ze=ba.rasterizerOptions||null;this.Hx=ba.cadOptions||null;this.zf=ca;this.EL=z;this.Lp(!0);this.Xt=(new y.a(ca,null,this.xi())).via(!this.xX,function(ea){fa.Qoa(ea)},function(){return null},function(){fa.TD=!1},function(){fa.ksa()})}x.prototype.Tea=function(){var z=this;return new Promise(function(ca,ba){var fa=new XMLHttpRequest;fa.open("GET",z.zf+"ck");fa.withCredentials=
z.xi();fa.onreadystatechange=function(){fa.readyState===XMLHttpRequest.DONE&&(200===fa.status?ca():ba())};fa.send()})};x.prototype.Zta=function(z){this.g_=z||pa;this.BO=pa};x.prototype.xda=function(){this.K3();return this.Xt.hr(!0)};x.prototype.K3=function(){Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(z){switch(z.label){case 0:return this.Tq=new h,this.xn=new h,this.TD=!1,this.id=null,this.kX=!1,[4,this.Tea()];case 1:return z.ba(),[2]}})})};x.prototype.ksa=function(){this.g_();
this.K3();this.Vf&&(this.Vf.Ej()?this.Vh(this.Vf.request):this.Vf.ev()&&this.BO(this.Vf.result.url,"pdf")&&(this.Vf=null,this.I3()));this.dg&&this.dg.Ej()&&this.Vh(this.dg.request);this.df&&this.df.Ej()?this.Vh(this.df.request):this.cf&&this.cf.Ej()&&this.SZ();var z;for(z=0;z<this.Kh.length;z++)this.Kh[z]&&(this.Kh[z].Ej()?this.Vh(this.Kh[z].request):this.Kh[z].ev()&&this.BO(this.Kh[z].result.url,"image")&&(this.Kh[z]=null,this.lH(Object(ja.uniqueId)(),z)));for(z=0;z<this.Nj.length;z++)this.Nj[z]&&
this.Nj[z].Ej()&&!this.Nj[z].Bma()&&this.Vh(this.Nj[z].request);for(z=0;z<this.yg.length;z++)this.yg[z]&&this.yg[z].Ej()&&this.Vh(this.yg[z].request)};x.prototype.ema=function(){return this.TD?Promise.resolve():(this.TD=!0,this.timeStamp=Date.now(),this.Xt.JF())};x.prototype.Jwa=function(){var z=this,ca,ba,fa,ea,oa;return new Promise(function(ia,la){if(z.Un)ca=new FormData,ca.append("file",z.Un.fileHandle,z.Un.fileHandle.name),z.zp&&ca.append("officeOptions",JSON.stringify(z.zp)),z.Ze&&ca.append("rasterizerOptions",
JSON.stringify(z.Ze)),z.Hx&&ca.append("cadOptions",z.Hx.getJsonString()),z.Gx&&ca.append("cacheKey",z.Gx),ba=z.Un.loadCallback,ea="upload",fa=z.Un.extension;else if(z.sw)ca={uri:z.sw.uri,QAa:z.sw.shareId},ca=Object.keys(ca).map(function(sa){return sa+"="+(ca[sa]?encodeURIComponent(ca[sa]):"")}).join("&"),oa="application/x-www-form-urlencoded; charset=UTF-8",ba=z.sw.loadCallback,ea="url",fa=z.sw.extension;else{ia();return}var ra=new XMLHttpRequest,qa=Object(aa.k)(z.zf,"AuxUpload");qa=Object(b.a)(qa,
{type:ea,ext:fa});ra.open("POST",qa);ra.withCredentials=z.xi();oa&&ra.setRequestHeader("Content-Type",oa);ra.addEventListener("load",function(){if(ra.readyState===ra.DONE&&200===ra.status){var sa=JSON.parse(ra.response);z.EL=sa.uri;ba(sa);ia(sa)}});ra.addEventListener("error",function(){la(ra.statusText+" "+JSON.stringify(ra))});z.Un&&null!=z.Un.onProgress&&(ra.upload.onprogress=function(sa){z.Un.onProgress(sa)});ra.send(ca)})};x.prototype.$ra=function(z){this.password=z||null;this.xn.ev()||(this.xn=
new h,this.Vh({t:"pages"}));return this.xn.promise};x.prototype.CA=function(z){this.dM=z||null;this.xn.ev()||this.Vh({t:"pages"});return this.xn.promise};x.prototype.Tx=function(z){z=Object.assign(z,{uri:encodeURIComponent(this.EL)});this.dM&&(z.ext=this.dM);this.Ph&&(z.c=this.Ph);this.password&&(z.pswd=this.password);this.Gx&&(z.cacheKey=this.Gx);this.zp&&(z.officeOptions=this.zp);this.Ze&&(z.rastOptions=this.Ze);this.Hx&&(z.cadOptions=this.Hx.mImpl);return z};x.prototype.Msa=function(){0<this.Gv.length()&&
10>=this.Et&&this.Nsa(this.Gv.pop().data)};x.prototype.Oca=function(z){0<this.Gv.length()&&this.Gv.contains(z)&&this.Gv.remove(z)};x.prototype.Vh=function(z){z=this.Tx(z);this.Xt.send(z)};x.prototype.f4=function(z,ca){10<this.Et?this.Gv.push(z,ca):(this.Et++,z=this.Tx(ca),this.Xt.send(z))};x.prototype.Nsa=function(z){this.Et++;z=this.Tx(z);this.Xt.send(z)};x.prototype.zm=function(z){return z};x.prototype.f_=function(z){this.eR&&z?Object(ha.j)("Server failed health check. Single server mode ignoring check."):
!this.hza&&z&&3>=this.Li?(this.xN=!0,this.Xt.hr()):3<this.Li&&(this.eR=!0)};x.prototype.Qoa=function(z){var ca=this,ba=z.data,fa=z.err,ea=z.t;switch(ea){case "upload":fa?this.Kwa.reject(fa):this.Kwa.resolve("Success");break;case "pages":fa?this.xn.reject(fa):na(ba,ea,this.xn)&&this.xn.resolve(ba);break;case "config":if(fa)this.Tq.reject(fa);else if(na(ba,ea,this.Tq)){this.f_(ba.unhealthy);ba.id&&(this.id=ba.id);if(ba.auth){var oa=Object(a.a)("wvsQueryParameters");oa.auth=ba.auth;Object(a.b)("wvsQueryParameters",
oa)}ba.serverVersion&&(this.rI=ba.serverVersion,Object(ha.h)("[WebViewer Server] server version: "+this.rI));ba.serverID?(this.Li=ba.serverID===this.l4&&this.xN?this.Li+1:0,this.l4=ba.serverID):this.Li=0;this.xN=!1;this.Tq.resolve(ba)}break;case "health":fa?this.Tq.reject(fa):na(ba,ea,this.Tq)&&this.f_(ba.unhealthy);break;case "pdf":ba.url=Object(b.a)(this.zf+"../"+encodeURI(ba.url));fa?this.Vf.reject(fa):na(ba,ea,this.Vf)&&this.Vf.resolve(ba);break;case "ApString2Xod":ba.url=Object(b.a)(this.zf+
"../data/"+encodeURI(ba.url));fa?this.Kj[ba.rID].reject(fa):na(ba,ea,this.Kj[ba.rID])&&this.Kj[ba.rID].resolve(ba);break;case "docmod":ba.url=Object(b.a)(this.zf+"../"+encodeURI(ba.url));fa?this.Kj[ba.rID].reject(fa):na(ba,ea,this.Vf)&&this.Kj[ba.rID].resolve(ba);break;case "xod":if(fa)this.df&&this.df.Ej()&&this.df.reject(fa),this.cf&&this.cf.Ej()&&this.cf.reject(fa);else if(ba.notFound)ba.noCreate||this.df&&this.df.Ej()&&this.df.resolve(ba),this.cf&&this.cf.Ej()&&this.cf.resolve(ba);else{ba.url&&
(ba.url=Object(b.a)(this.zf+"../"+encodeURI(ba.url)));if(!this.cf||this.cf.ev())this.cf=new h,this.cf.request={t:"xod",noCreate:!0};this.df||(this.df=new h,this.df.request={t:"xod"});this.cf.resolve(ba);this.df.resolve(ba)}break;case "cAnnots":oa=this.dg;if(fa)oa.reject(fa);else if(na(ba,ea,oa)){oa.xQ();var ia=[],la=ba.annots;ba=function(Ha){var Aa=la[Ha].s,Ja=la[Ha].e,Ta=ra.zf+"../"+encodeURI(la[Ha].xfdf),Ka="true"===la[Ha].hasAppearance?Object(b.a)(Ta+".xodapp"):null,Na=Object(ja.range)(Aa,Ja+1);
ia[Ha]={range:Na,promise:new Promise(function(Ca,Ea){var La=new XMLHttpRequest;La.open("GET",Object(b.a)(Ta));La.responseType="text";La.withCredentials=ca.xi();La.addEventListener("load",function(){La.readyState===La.DONE&&200===La.status&&Ca({Ls:La.response,nm:Ka,range:Na})});La.addEventListener("error",function(){Ea(La.statusText+" "+JSON.stringify(La))});La.send()})}};var ra=this;for(fa=0;fa<la.length;fa++)ba(fa);oa.resolve(ia)}break;case "annots":if(fa)this.dg.reject(fa);else if(na(ba,ea,this.dg)){this.dg.xQ();
var qa=new XMLHttpRequest;oa=this.zf+"../"+encodeURI(ba.url);var sa=ba.hasAppearance?Object(b.a)(oa+".xodapp"):null;qa.open("GET",Object(b.a)(oa));qa.responseType="text";qa.withCredentials=this.xi();qa.addEventListener("load",function(){qa.readyState===qa.DONE&&200===qa.status&&ca.dg.resolve({Ls:qa.response,nm:sa})});qa.addEventListener("error",function(){ca.dg.reject(qa.statusText+" "+JSON.stringify(qa))});qa.send()}break;case "image":this.Et--;var wa=this.Kh[ba.p];fa?wa.promise.reject(fa):na(ba,
ea,wa)&&(wa.result=ba,wa.result.url=Object(b.a)(this.zf+"../"+encodeURI(wa.result.url)),wa.resolve(wa.result));break;case "tiles":this.Et--;wa=ba.rID;oa=this.yg[wa];this.yg[wa]=null;this.GE.push(wa);if(fa)oa.reject(fa);else if(na(ba,ea,oa)){for(fa=0;fa<ba.tiles.length;fa++)ba.tiles[fa]=Object(b.a)(this.zf+"../"+encodeURI(ba.tiles[fa]));oa.resolve(ba)}break;case "text":wa=this.Nj[ba.p];if(fa)wa.reject(fa);else if(na(ba,ea,wa)){wa.xQ();var za=new XMLHttpRequest;ba=Object(b.a)(this.zf+"../"+encodeURI(ba.url));
za.open("GET",ba);za.withCredentials=this.xi();za.addEventListener("load",function(){za.readyState===za.DONE&&200===za.status&&(wa.result=JSON.parse(za.response),wa.resolve(wa.result))});za.addEventListener("error",function(Ha){wa.reject(za.statusText+" "+JSON.stringify(Ha))});za.send()}break;case "progress":"loading"===ba.t&&this.trigger(r.a.Events.DOCUMENT_LOADING_PROGRESS,[ba.bytes,ba.total])}this.Msa();!ea&&z.echo&&z&&"apstring2xod"===z.echo.t&&(z=z.echo.reqID)&&(2<=parseInt(this.rI,10)?this.Kj[z].reject("Message unhandled by server"):
this.Kj[z].reject())};x.prototype.fja=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(z){switch(z.label){case 0:return[4,this.ema()];case 1:return z.ba(),[2,this.Tq.promise]}})})};x.prototype.Nia=function(z){for(var ca=this,ba=new XMLHttpRequest,fa=Object(b.a)(this.zf+"aul",{id:this.id}),ea=new FormData,oa={},ia=0;ia<z.body.length;ia++){var la=z.body[ia];oa[la.id]=la.wK.w+";"+la.wK.h;ea.append(la.id,la.wK.dataString)}z={t:"apstring2xod",reqID:this.a1++,
parts:oa};var ra=this.Tx(z);ea.append("msg",JSON.stringify(ra));this.Kj[ra.reqID]=new h;ba.open("POST",fa);ba.withCredentials=this.xi;fa=new Promise(function(qa,sa){ba.onreadystatechange=function(){4===ba.readyState&&(200===ba.status?qa():sa("An error occurred while sending down appearance strings to the server"))}});ba.send(ea);return fa.then(function(){return ca.Kj[ra.reqID].promise})};x.prototype.Ada=function(){var z=this.rI.split("-")[0].split("."),ca=["1","5","9"];if(3!==z.length)throw Error("Invalid WVS version length.");
if(3!==ca.length)throw Error("Invalid version length.");for(var ba=0;ba<z.length;++ba){if(ca.length===ba||z[ba]>ca[ba])return-1;if(z[ba]!==ca[ba])return 1}return 0};x.prototype.Oq=function(){return 0>=this.Ada()};x.prototype.mM=function(){this.dg||(this.dg=new h,this.Oq()?this.dg.request={t:"cAnnots"}:this.dg.request={t:"annots"},this.Vh(this.dg.request));return this.dg.promise};x.prototype.lH=function(z,ca){this.Kh[ca]||(this.Kh[ca]=new h,this.Kh[ca].request={t:"image",p:ca},this.f4(z,this.Kh[ca].request));
return this.Kh[ca].promise};x.prototype.asa=function(z){this.Nj[z]||(this.Nj[z]=new h,this.Nj[z].request={t:"text",p:z},this.Vh(this.Nj[z].request));return this.Nj[z].promise};x.prototype.bsa=function(z,ca,ba,fa,ea){var oa=this.yg.length;this.GE.length&&(oa=this.GE.pop());this.yg[oa]=new h;this.yg[oa].request={t:"tiles",p:ca,z:ba,r:fa,size:ea,rID:oa};this.f4(z,this.yg[oa].request);return this.yg[oa].promise};x.prototype.I3=function(){this.Vf||(this.Vf=new h,this.Vf.request={t:"pdf"},this.kX?this.Vf.resolve({url:this.EL}):
this.Vh(this.Vf.request));return this.Vf.promise};x.prototype.kZ=function(z){var ca=this,ba=new XMLHttpRequest,fa=Object(b.a)(this.zf+"aul",{id:this.id}),ea=new FormData,oa={};z.annots&&(oa.annots="xfdf");z.watermark&&(oa.watermark="png");z.redactions&&(oa.redactions="redact");oa={t:"docmod",reqID:this.a1++,parts:oa};z.print&&(oa.print=!0);var ia=this.Tx(oa);ea.append("msg",JSON.stringify(ia));return Promise.all([z.annots,z.watermark,z.redactions].map(function(la){return Promise.resolve(la)})).then(function(la){var ra=
la[0],qa=la[1];la=la[2];ra&&ea.append("annots",ra);qa&&ea.append("watermark",qa);la&&ea.append("redactions",la);ca.Kj[ia.reqID]=new h;ba.open("POST",fa);ba.withCredentials=ca.xi;ra=new Promise(function(sa,wa){ba.onreadystatechange=function(){4===ba.readyState&&(200===ba.status?sa():wa("An error occurred while sending down annotation data to the server"))}});ba.send(ea);return ra.then(function(){return ca.Kj[ia.reqID].promise})})};x.prototype.SZ=function(){this.cf||(this.cf=new h,this.cf.request={t:"xod",
noCreate:!0},this.Vh(this.cf.request));return this.cf.promise};x.prototype.csa=function(){this.df||(this.df=new h,this.df.request={t:"xod"},this.Vh(this.df.request));return this.df.promise};x.prototype.Hp=function(){return!0};x.prototype.request=function(){};x.prototype.V2=function(){};x.prototype.abort=function(){for(var z=0;z<this.yg.length;z++)this.yg[z]&&(this.yg[z].resolve(null),this.yg[z]=null,this.GE.push(z));this.close()};x.prototype.yH=function(z){this.Ph=this.Ph||{};this.Ph.headers=z};x.prototype.Lp=
function(z){this.Ph=this.Ph||{};this.Ph.internal=this.Ph.internal||{};this.Ph.internal.withCredentials=z};x.prototype.xi=function(){return this.Ph&&this.Ph.internal?this.Ph.internal.withCredentials:null};x.prototype.getFileData=function(){return Promise.reject()};return x}();Object(ya.a)(n);Object(f.a)(n);Object(f.b)(n);ua["default"]=n},510:function(ya,ua,n){var pa=n(0),na=n(3),ma=n(25),ka=n(46),ja=n(187),ha=n(81),aa=function(){function r(f,a,b,h,e,w){void 0===b&&(b=null);void 0===h&&(h=null);void 0===
e&&(e=null);void 0===w&&(w=null);this.H0=!1;this.Li=0;this.cW=this.dxa(f);this.url=a?this.cW+"/"+a:this.cW+"/ws";this.sL=b;this.Zz=h;this.Rx=e;this.TP=w}r.prototype.dxa=function(f){var a=f.indexOf("://"),b="ws://";0>a?a=0:(5===a&&(b="wss://"),a+=3);var h=f.lastIndexOf("/");0>h&&(h=f.length);return b+f.slice(a,h)};r.prototype.send=function(f){this.Yp.readyState===WebSocket.CLOSED||this.H0||this.Yp.send(JSON.stringify(f))};r.prototype.JF=function(){return Object(pa.b)(this,void 0,void 0,function(){var f,
a=this;return Object(pa.d)(this,function(){f=Object(ka.a)("wvsQueryParameters");f.bcid=Object(ma.l)(8);Object(ka.b)("wvsQueryParameters",f);return[2,new Promise(function(b,h){var e=Object(ja.a)(a.url);a.Yp=new WebSocket(e);a.Yp.onopen=function(){a.Zz&&a.Zz();b()};a.Yp.onerror=function(w){a.H0=!0;h(w)};a.Yp.onclose=function(w){var x=w.code;return Object(pa.b)(a,void 0,void 0,function(){var z=this;return Object(pa.d)(this,function(ca){switch(ca.label){case 0:return this.Rx&&this.Rx(),3E3===x?[3,3]:
8>this.Li++?[4,new Promise(function(ba){return setTimeout(function(){return Object(pa.b)(z,void 0,void 0,function(){return Object(pa.d)(this,function(fa){switch(fa.label){case 0:return this.TP(),[4,this.JF()];case 1:return fa.ba(),ba(),[2]}})})},3E3)})]:[3,2];case 1:return ca.ba(),[3,3];case 2:h(ha.a),ca.label=3;case 3:return[2]}})})};a.Yp.onmessage=function(w){w&&w.data&&(w=JSON.parse(w.data),w.hb?a.send({hb:!0}):w.end?close():a.sL(w))}})]})})};r.prototype.hr=function(f){void 0===f&&(f=!1);this.Li=
0;f?this.Yp.close(3E3):this.Yp.close();return Promise.resolve()};return r}(),y=function(){function r(f,a,b,h,e,w,x){void 0===h&&(h=null);void 0===e&&(e=null);void 0===w&&(w=null);void 0===x&&(x=null);this.Li=this.kH=this.id=0;this.hz=!1;this.request=null;f=this.nqa(f);this.url=a?f+"/"+a+"pf":f+"/pf";this.jI=b;this.sL=h;this.Zz=e;this.Rx=w;this.TP=x}r.prototype.nqa=function(f){var a=f.lastIndexOf("/");0>a&&(a=f.length);return f.slice(0,a)};r.prototype.Aea=function(f){f=f.split("\n");for(f[f.length-
1]&&f.pop();0<f.length&&3>f[f.length-1].length;)"]"===f.pop()&&(this.id=0);0<f.length&&3>f[0].length&&f.shift();for(var a=0;a<f.length;++a)f[a].endsWith(",")&&(f[a]=f[a].substr(0,f[a].length-1));return f};r.prototype.S3=function(){return Object(pa.b)(this,void 0,void 0,function(){var f=this;return Object(pa.d)(this,function(a){switch(a.label){case 0:return 8>this.Li++?[4,new Promise(function(b){return setTimeout(function(){f.TP();f.JF();b()},3E3)})]:[3,2];case 1:a.ba(),a.label=2;case 2:return[2]}})})};
r.prototype.pqa=function(f){Object(pa.b)(this,void 0,void 0,function(){var a,b;return Object(pa.d)(this,function(h){switch(h.label){case 0:a=null,b=0,h.label=1;case 1:if(!(b<f.length))return[3,6];a=JSON.parse(f[b]);if(!a)return[3,5];if(!a.end)return[3,2];close();return[3,5];case 2:if(!a.id||Number(a.id)===this.id)return[3,4];Object(na.j)("Reconnecting, new server detected");this.hr();return[4,this.S3()];case 3:return h.ba(),[3,5];case 4:a.hb&&Number(a.id)===this.id?this.send({hb:!0}):this.hz||this.sL(a),
h.label=5;case 5:return++b,[3,1];case 6:return[2]}})})};r.prototype.Noa=function(f){Object(pa.b)(this,void 0,void 0,function(){var a,b,h;return Object(pa.d)(this,function(e){switch(e.label){case 0:if(!(3<=f.readyState))return[3,2];try{a=f.responseText.length}catch(w){return Object(na.h)("caught exception"),[2]}if(0<a)try{b=this.Aea(f.responseText),0===this.id&&0<b.length&&(h=JSON.parse(b.shift()),this.id=h.id,this.Li=0),this.pqa(b)}catch(w){}return this.hz?[3,2]:[4,this.eY()];case 1:e.ba(),e.label=
2;case 2:return[2]}})})};r.prototype.eY=function(){return Object(pa.b)(this,void 0,void 0,function(){var f=this;return Object(pa.d)(this,function(){return[2,new Promise(function(a,b){function h(){return Object(pa.b)(f,void 0,void 0,function(){return Object(pa.d)(this,function(w){switch(w.label){case 0:b(),this.hr(),w.label=1;case 1:return this.hz&&8>this.Li?[4,this.S3()]:[3,3];case 2:return w.ba(),[3,1];case 3:return[2]}})})}f.request=new XMLHttpRequest;f.request.withCredentials=f.jI;var e=Object(ja.a)(f.url,
0!==f.id?{id:String(f.id),uc:String(f.kH)}:{uc:String(f.kH)});f.kH++;f.request.open("GET",e,!0);f.request.setRequestHeader("Cache-Control","no-cache");f.request.setRequestHeader("X-Requested-With","XMLHttpRequest");f.request.onreadystatechange=function(){f.Noa(f.request)};f.request.addEventListener("error",h);f.request.addEventListener("timeout",h);f.request.addEventListener("load",function(){f.Zz&&f.Zz();a()});f.request.send()})]})})};r.prototype.JF=function(){var f=Object(ka.a)("wvsQueryParameters");
f.bcid=Object(ma.l)(8);Object(ka.b)("wvsQueryParameters",f);this.kH=this.id=0;this.hz=!1;return this.eY()};r.prototype.send=function(f){var a=this,b=new XMLHttpRequest;b.withCredentials=this.jI;var h=Object(ja.a)(this.url,{id:String(this.id)}),e=new FormData;e.append("data",JSON.stringify(f));b.addEventListener("error",function(){a.hr()});b.open("POST",h);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send(e)};r.prototype.hr=function(){this.id=0;this.hz=!0;this.Rx&&this.Rx();this.request.abort();
return Promise.resolve()};return r}();ya=function(){function r(f,a,b){this.JW=f;this.target=a;this.jI=b}r.prototype.via=function(f,a,b,h,e){void 0===f&&(f=!0);void 0===a&&(a=null);void 0===b&&(b=null);void 0===h&&(h=null);void 0===e&&(e=null);return f?new aa(this.JW,this.target,a,b,h,e):new y(this.JW,this.target,this.jI,a,b,h,e)};return r}();ua.a=ya}}]);}).call(this || window)
