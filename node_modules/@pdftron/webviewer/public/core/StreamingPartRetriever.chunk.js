/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[11],{488:function(ya,ua,n){n.r(ua);var pa=n(0),na=n(1);n.n(na);var ma=n(3),ka=n(170);ya=n(48);var ja=n(105),ha=n(278),aa=n(79),y=n(277);n=n(417);var r=window,f=function(){function h(e,w,x){var z=-1===e.indexOf("?")?"?":"&";switch(w){case aa.a.NEVER_CACHE:this.url=e+z+"_="+Object(na.uniqueId)();break;default:this.url=e}this.Lf=x;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}h.prototype.start=function(e,w){var x=this,z=this,ca=this.request,ba;z.Dz=0;e&&Object.keys(e).forEach(function(fa){x.request.setRequestHeader(fa,e[fa])});w&&(this.request.withCredentials=w);this.YG=setInterval(function(){var fa=0===window.document.URL.indexOf("file:///");fa=200===ca.status||
fa&&0===ca.status;if(ca.readyState!==y.b.DONE||fa){try{ca.responseText}catch(ea){return}z.Dz<ca.responseText.length&&(ba=z.vqa())&&z.trigger(h.Events.DATA,[ba]);0===ca.readyState&&(clearInterval(z.YG),z.trigger(h.Events.DONE))}else clearInterval(z.YG),z.trigger(h.Events.DONE,["Error received return status "+ca.status])},1E3);this.request.send(null);this.status=y.a.STARTED};h.prototype.vqa=function(){var e=this.request,w=e.responseText;if(0!==w.length)if(this.Dz===w.length)clearInterval(this.YG),this.trigger(h.Events.DONE);
else return w=Math.min(this.Dz+3E6,w.length),e=r.yZ(e,this.Dz,!0,w),this.Dz=w,e};h.prototype.abort=function(){clearInterval(this.YG);var e=this;this.request.onreadystatechange=function(){Object(ma.j)("StreamingRequest aborted");e.status=y.a.ABORTED;return e.trigger(h.Events.ABORTED)};this.request.abort()};h.prototype.finish=function(){var e=this;this.request.onreadystatechange=function(){e.status=y.a.SUCCESS;return e.trigger(h.Events.DONE)};this.request.abort()};h.Events={DONE:"done",DATA:"data",
ABORTED:"aborted"};return h}();Object(ya.a)(f);var a;(function(h){h[h.LOCAL_HEADER=0]="LOCAL_HEADER";h[h.FILE=1]="FILE";h[h.CENTRAL_DIR=2]="CENTRAL_DIR"})(a||(a={}));var b=function(h){function e(){var w=h.call(this)||this;w.buffer="";w.state=a.LOCAL_HEADER;w.dR=4;w.mn=null;w.pv=ka.c;w.Xo={};return w}Object(pa.c)(e,h);e.prototype.oqa=function(w){var x;for(w=this.buffer+w;w.length>=this.pv;)switch(this.state){case a.LOCAL_HEADER:this.mn=x=this.zqa(w.slice(0,this.pv));if(x.Yv!==ka.g)throw Error("Wrong signature in local header: "+
x.Yv);w=w.slice(this.pv);this.state=a.FILE;this.pv=x.MK+x.Yr+x.ny+this.dR;this.trigger(e.Events.HEADER,[x]);break;case a.FILE:this.mn.name=w.slice(0,this.mn.Yr);this.Xo[this.mn.name]=this.mn;x=this.pv-this.dR;var z=w.slice(this.mn.Yr+this.mn.ny,x);this.trigger(e.Events.FILE,[this.mn.name,z,this.mn.eL]);w=w.slice(x);if(w.slice(0,this.dR)===ka.h)this.state=a.LOCAL_HEADER,this.pv=ka.c;else return this.state=a.CENTRAL_DIR,!0}this.buffer=w;return!1};e.Events={HEADER:"header",FILE:"file"};return e}(ha.a);
Object(ya.a)(b);ya=function(h){function e(w,x,z,ca,ba){z=h.call(this,w,z,ca)||this;z.url=w;z.stream=new f(w,x);z.Ud=new b;z.n2=window.createPromiseCapability();z.W2={};z.Lf=ba;return z}Object(pa.c)(e,h);e.prototype.CA=function(w){var x=this;this.request([this.gk,this.Ql,this.fk]);this.stream.addEventListener(f.Events.DATA,function(z){try{if(x.Ud.oqa(z))return x.stream.finish()}catch(ca){throw x.stream.abort(),x.kr(ca),w(ca),ca;}});this.stream.addEventListener(f.Events.DONE,function(z){x.Spa=!0;x.n2.resolve();
z&&(x.kr(z),w(z))});this.Ud.addEventListener(b.Events.HEADER,Object(na.bind)(this.V2,this));this.Ud.addEventListener(b.Events.FILE,Object(na.bind)(this.Pqa,this));return this.stream.start(this.Lf,this.withCredentials)};e.prototype.uZ=function(w){var x=this;this.n2.promise.then(function(){w(Object.keys(x.Ud.Xo))})};e.prototype.Hp=function(){return!0};e.prototype.request=function(w){var x=this;this.Spa&&w.forEach(function(z){x.W2[z]||x.lwa(z)})};e.prototype.V2=function(){};e.prototype.abort=function(){this.stream&&
this.stream.abort()};e.prototype.lwa=function(w){this.trigger(ja.a.Events.PART_READY,[{qb:w,error:"Requested part not found",nj:!1,Hg:!1}])};e.prototype.Pqa=function(w,x,z){this.W2[w]=!0;this.trigger(ja.a.Events.PART_READY,[{qb:w,data:x,nj:!1,Hg:!1,error:null,wd:z}])};return e}(ja.a);Object(n.a)(ya);Object(n.b)(ya);ua["default"]=ya}}]);}).call(this || window)
